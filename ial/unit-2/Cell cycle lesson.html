<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3B.1 The Cell Cycle | IAL Biology</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/framer-motion/10.16.4/dom.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-cyan: #22d3ee;
            --accent-magenta: #f472b6;
            --accent-green: #34d399;
            --accent-orange: #fb923c;
            --accent-purple: #a78bfa;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-color: #2d3a52;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* Animated background */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(ellipse at 20% 20%, rgba(34, 211, 238, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(244, 114, 182, 0.08) 0%, transparent 50%),
                var(--bg-primary);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header */
        .lesson-header {
            padding: 60px 0 40px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 60px;
            position: relative;
        }

        .spec-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }

        .lesson-header h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-cyan) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 16px;
        }

        .lesson-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
        }

        /* Learning Objectives */
        .objectives-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
        }

        .objectives-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, var(--accent-cyan), var(--accent-magenta));
        }

        .objectives-card h2 {
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent-cyan);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .objectives-card h2::before {
            content: 'üéØ';
        }

        .objective-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .objective-item:last-child {
            border-bottom: none;
        }

        .objective-item:hover {
            padding-left: 8px;
        }

        .objective-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .objective-item.completed .objective-checkbox {
            background: var(--success);
            border-color: var(--success);
        }

        .objective-item.completed .objective-checkbox::after {
            content: '‚úì';
            color: white;
            font-size: 14px;
            font-weight: 700;
        }

        /* Section Styles */
        .section {
            margin-bottom: 80px;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
        }

        .section-number {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .section h2 {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        @media (max-width: 900px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        .text-content p {
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        .text-content p strong {
            color: var(--text-primary);
        }

        .highlight-term {
            color: var(--accent-cyan);
            font-weight: 600;
            cursor: help;
            border-bottom: 2px dotted var(--accent-cyan);
            position: relative;
        }

        .highlight-term:hover::after {
            content: attr(data-definition);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            border: 1px solid var(--accent-cyan);
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            width: max-content;
            max-width: 300px;
            z-index: 100;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        /* Cell Cycle Diagram */
        .cycle-diagram {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 40px;
            position: relative;
        }

        .cycle-svg-container {
            width: 100%;
            aspect-ratio: 1;
            position: relative;
        }

        .cycle-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            height: 85%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                var(--accent-cyan) 0deg 90deg,
                var(--accent-green) 90deg 180deg,
                var(--accent-orange) 180deg 270deg,
                var(--accent-magenta) 270deg 360deg
            );
            opacity: 0.3;
        }

        .cycle-inner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            background: var(--bg-card);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .cycle-center-text {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .cycle-center-sub {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .phase-label {
            position: absolute;
            background: var(--bg-secondary);
            border: 2px solid;
            padding: 10px 16px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .phase-label:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px currentColor;
        }

        .phase-label.g1 {
            top: 15%;
            right: 5%;
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .phase-label.s {
            bottom: 15%;
            right: 5%;
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .phase-label.g2 {
            bottom: 15%;
            left: 5%;
            border-color: var(--accent-orange);
            color: var(--accent-orange);
        }

        .phase-label.m {
            top: 15%;
            left: 5%;
            border-color: var(--accent-magenta);
            color: var(--accent-magenta);
        }

        .phase-info-panel {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            padding: 16px 24px;
            border-radius: 12px;
            text-align: center;
            min-width: 280px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .phase-info-panel.active {
            opacity: 1;
            visibility: visible;
            bottom: -80px;
        }

        /* DNA Packaging Interactive */
        .dna-packaging {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 40px;
            margin-top: 40px;
        }

        .dna-levels {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .dna-level {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .dna-level:hover, .dna-level.active {
            border-color: var(--accent-purple);
            transform: translateX(10px);
        }

        .dna-level-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-magenta));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .dna-level-content h4 {
            font-size: 1.1rem;
            margin-bottom: 4px;
        }

        .dna-level-content p {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .dna-level-size {
            margin-left: auto;
            font-family: 'Space Mono', monospace;
            font-size: 0.9rem;
            color: var(--accent-cyan);
            background: rgba(34, 211, 238, 0.1);
            padding: 6px 12px;
            border-radius: 6px;
        }

        /* Karyotype Display */
        .karyotype-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 40px;
            margin-top: 40px;
        }

        .karyotype-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .chromosome-pair {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chromosome-pair:hover {
            background: rgba(34, 211, 238, 0.1);
            transform: scale(1.05);
        }

        .chromosome-visual {
            display: flex;
            gap: 4px;
        }

        .chromosome {
            width: 8px;
            height: 30px;
            background: linear-gradient(180deg, var(--accent-cyan), var(--accent-purple));
            border-radius: 4px;
        }

        .chromosome-pair.sex .chromosome:last-child {
            height: 20px;
        }

        .chromosome-number {
            font-family: 'Space Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* Learning Tips */
        .learning-tip {
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.1), rgba(167, 139, 250, 0.1));
            border: 1px solid var(--accent-cyan);
            border-radius: 16px;
            padding: 24px;
            margin: 32px 0;
            display: flex;
            gap: 16px;
        }

        .tip-icon {
            width: 48px;
            height: 48px;
            background: var(--accent-cyan);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .tip-content h4 {
            color: var(--accent-cyan);
            margin-bottom: 8px;
        }

        /* Checkpoint Questions */
        .checkpoint-section {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(52, 211, 153, 0.1) 100%);
            border: 2px solid var(--accent-green);
            border-radius: 20px;
            padding: 40px;
            margin: 60px 0;
        }

        .checkpoint-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
        }

        .checkpoint-icon {
            width: 56px;
            height: 56px;
            background: var(--accent-green);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .checkpoint-header h2 {
            font-size: 1.6rem;
        }

        .checkpoint-header p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .question-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 24px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .question-card.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }

        .question-card.incorrect {
            border-color: var(--error);
            background: rgba(239, 68, 68, 0.1);
        }

        .question-number {
            font-family: 'Space Mono', monospace;
            color: var(--accent-green);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .options-grid {
            display: grid;
            gap: 12px;
        }

        .option-btn {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px 20px;
            background: var(--bg-card);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: inherit;
            font-size: 1rem;
            color: var(--text-primary);
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--accent-cyan);
            transform: translateX(8px);
        }

        .option-btn.selected {
            border-color: var(--accent-cyan);
            background: rgba(34, 211, 238, 0.1);
        }

        .option-btn.correct-answer {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.2);
        }

        .option-btn.wrong-answer {
            border-color: var(--error);
            background: rgba(239, 68, 68, 0.2);
        }

        .option-letter {
            width: 32px;
            height: 32px;
            background: var(--bg-secondary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .check-answer-btn {
            margin-top: 20px;
            padding: 14px 32px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan));
            border: none;
            border-radius: 10px;
            color: var(--bg-primary);
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .check-answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(34, 211, 238, 0.3);
        }

        .feedback-message {
            margin-top: 16px;
            padding: 16px;
            border-radius: 10px;
            display: none;
        }

        .feedback-message.show {
            display: block;
        }

        .feedback-message.success {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .feedback-message.error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid var(--error);
            color: var(--error);
        }

        /* Exam Questions */
        .exam-section {
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(251, 146, 60, 0.1) 100%);
            border: 2px solid var(--accent-orange);
            border-radius: 20px;
            padding: 40px;
            margin: 60px 0;
        }

        .exam-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
        }

        .exam-icon {
            width: 56px;
            height: 56px;
            background: var(--accent-orange);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .exam-question {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 24px;
        }

        .exam-question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .marks-badge {
            background: var(--accent-orange);
            color: var(--bg-primary);
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .exam-question-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .support-dropdown {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }

        .dropdown-trigger {
            width: 100%;
            padding: 16px 20px;
            background: transparent;
            border: none;
            color: var(--accent-cyan);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .dropdown-trigger:hover {
            background: rgba(34, 211, 238, 0.1);
        }

        .dropdown-arrow {
            transition: transform 0.3s ease;
        }

        .dropdown-trigger.open .dropdown-arrow {
            transform: rotate(180deg);
        }

        .dropdown-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .dropdown-content.open {
            max-height: 500px;
        }

        .dropdown-inner {
            padding: 20px;
            border-top: 1px solid var(--border-color);
        }

        .support-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
        }

        .support-item:last-child {
            margin-bottom: 0;
        }

        .support-icon {
            width: 28px;
            height: 28px;
            background: rgba(34, 211, 238, 0.2);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 0.9rem;
        }

        .support-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .support-text {
            color: var(--text-secondary);
        }

        .keywords-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .keyword-tag {
            background: rgba(167, 139, 250, 0.2);
            color: var(--accent-purple);
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* Vocabulary Cards */
        .vocab-section {
            margin: 60px 0;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .vocab-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .vocab-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .vocab-card:hover::before {
            transform: scaleX(1);
        }

        .vocab-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .vocab-term {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-cyan);
            margin-bottom: 12px;
        }

        .vocab-definition {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--bg-secondary);
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Did You Know */
        .did-you-know {
            background: linear-gradient(135deg, rgba(244, 114, 182, 0.1), rgba(167, 139, 250, 0.1));
            border: 1px solid var(--accent-magenta);
            border-radius: 16px;
            padding: 28px;
            margin: 40px 0;
        }

        .dyk-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .dyk-icon {
            font-size: 1.5rem;
        }

        .dyk-title {
            color: var(--accent-magenta);
            font-weight: 600;
            font-size: 1.1rem;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes rotate {
            from {
                transform: translate(-50%, -50%) rotate(0deg);
            }
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        .animate-in {
            animation: fadeInUp 0.6s ease forwards;
            opacity: 0;
        }

        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
        .delay-5 { animation-delay: 0.5s; }

        /* Score Display */
        .score-display {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 32px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 12px;
        }

        .score-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: conic-gradient(var(--accent-green) var(--score-percent, 0%), var(--bg-secondary) 0%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            background: var(--bg-card);
            border-radius: 50%;
        }

        .score-text {
            position: relative;
            z-index: 1;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 1.2rem;
        }

        /* Interactive Cell Animation */
        .cell-animation-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            text-align: center;
        }

        .cell-stage-display {
            width: 200px;
            height: 200px;
            margin: 0 auto 24px;
            background: var(--bg-secondary);
            border-radius: 50%;
            position: relative;
            overflow: hidden;
        }

        .cell-membrane {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 4px solid var(--accent-cyan);
            border-radius: 50%;
            transition: all 0.5s ease;
        }

        .nucleus {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: var(--accent-purple);
            border-radius: 50%;
            opacity: 0.8;
            transition: all 0.5s ease;
        }

        .chromosomes {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            gap: 4px;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .chromosome-anim {
            width: 6px;
            height: 24px;
            background: var(--accent-magenta);
            border-radius: 3px;
        }

        .stage-controls {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .stage-btn {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .stage-btn:hover, .stage-btn.active {
            border-color: var(--accent-cyan);
            background: rgba(34, 211, 238, 0.1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 16px;
            }

            .lesson-header {
                padding: 40px 0 30px;
            }

            .objectives-card,
            .checkpoint-section,
            .exam-section {
                padding: 24px;
            }

            .cycle-diagram,
            .dna-packaging,
            .karyotype-section {
                padding: 24px;
            }

            .dna-level {
                flex-direction: column;
                text-align: center;
            }

            .dna-level-size {
                margin-left: 0;
                margin-top: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="lesson-header animate-in">
            <div class="spec-badge">
                <span>Specification 3.14</span>
            </div>
            <h1>The Cell Cycle</h1>
            <p>Mitosis, Meiosis and Reproduction ‚Äî Understanding how cells divide to produce genetically identical daughter cells</p>
        </header>

        <!-- Learning Objectives -->
        <div class="objectives-card animate-in delay-1">
            <h2>Learning Objectives</h2>
            <div class="objective-item" onclick="toggleObjective(this)">
                <div class="objective-checkbox"></div>
                <span>Understand the role of the cell cycle in producing genetically identical daughter cells for growth and asexual reproduction</span>
            </div>
            <div class="objective-item" onclick="toggleObjective(this)">
                <div class="objective-checkbox"></div>
                <span>Describe the phases of the cell cycle: G‚ÇÅ, S, G‚ÇÇ, mitosis, and cytokinesis</span>
            </div>
            <div class="objective-item" onclick="toggleObjective(this)">
                <div class="objective-checkbox"></div>
                <span>Explain the role of histones and nucleosomes in DNA packaging</span>
            </div>
            <div class="objective-item" onclick="toggleObjective(this)">
                <div class="objective-checkbox"></div>
                <span>Understand how cyclins and CDKs control the cell cycle</span>
            </div>
        </div>

        <!-- Section 1: Introduction -->
        <section class="section animate-in delay-2">
            <div class="section-header">
                <div class="section-number">01</div>
                <h2>What is the Cell Cycle?</h2>
            </div>
            
            <div class="content-grid">
                <div class="text-content">
                    <p>One of the most awe-inspiring processes of life is the way organisms reproduce. <span class="highlight-term" data-definition="Single-celled organisms like Amoeba that reproduce through cell division">Amoeba</span> produce more Amoeba, liver cells generate more liver cells, and bougainvillea create new bougainvillea ‚Äî all through the remarkable process of cell division.</p>
                    
                    <p>Most new biological material results from the process of nuclear division known as <span class="highlight-term" data-definition="Nuclear division producing two genetically identical nuclei">mitosis</span>, followed by division of the rest of the cell. This produces genetically identical offspring from a single parent cell ‚Äî a process called <strong>asexual reproduction</strong>.</p>
                    
                    <p>Cells divide on a regular basis to bring about growth and asexual reproduction. They divide in a sequence of events known as the <span class="highlight-term" data-definition="A regulated process of interphase, mitosis and cytokinesis producing two identical daughter cells">cell cycle</span>.</p>

                    <div class="learning-tip">
                        <div class="tip-icon">üí°</div>
                        <div class="tip-content">
                            <h4>Mnemonic: MIRGAS</h4>
                            <p>Remember the purposes of mitosis: <strong>M</strong>itosis = <strong>R</strong>epair, <strong>G</strong>rowth, <strong>A</strong>sexual reproduction</p>
                        </div>
                    </div>
                </div>

                <div class="cycle-diagram">
                    <h3 style="text-align: center; margin-bottom: 24px; color: var(--text-secondary);">Interactive Cell Cycle Diagram</h3>
                    <div class="cycle-svg-container">
                        <div class="cycle-ring" style="animation: rotate 60s linear infinite;"></div>
                        <div class="cycle-inner">
                            <span class="cycle-center-text">Cell Cycle</span>
                            <span class="cycle-center-sub">Click a phase</span>
                        </div>
                        <div class="phase-label g1" onclick="showPhaseInfo('g1')">G‚ÇÅ</div>
                        <div class="phase-label s" onclick="showPhaseInfo('s')">S</div>
                        <div class="phase-label g2" onclick="showPhaseInfo('g2')">G‚ÇÇ</div>
                        <div class="phase-label m" onclick="showPhaseInfo('m')">M</div>
                    </div>
                    <div class="phase-info-panel" id="phaseInfoPanel">
                        <strong id="phaseName">Phase Name</strong>
                        <p id="phaseDesc" style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 8px;">Description</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Phases of the Cell Cycle -->
        <section class="section animate-in delay-3">
            <div class="section-header">
                <div class="section-number">02</div>
                <h2>Phases of the Cell Cycle</h2>
            </div>

            <div class="content-grid">
                <div class="text-content">
                    <p><strong>Interphase</strong> is a period of non-division when cells increase in mass and size, carry out normal cellular activities and replicate their DNA ready for division. Interphase consists of three stages:</p>
                    
                    <p><span class="highlight-term" data-definition="Gap 1: Cell grows, takes in material, produces organelles">G‚ÇÅ (Gap 1)</span> is the time between the end of the previous round of mitotic cell division and the start of chromosome replication. The cell takes in material, grows and develops. This phase is highly variable ‚Äî in actively dividing cells it's very short (hours or days), but in other cells it can be months or even years.</p>
                    
                    <p><span class="highlight-term" data-definition="Synthesis: DNA replication occurs, chromosomes become chromatids">S Phase</span> is when the chromosomes replicate and become double-stranded <strong>chromatids</strong> ready for the next cell division.</p>
                    
                    <p><span class="highlight-term" data-definition="Gap 2: Organelles and materials for division are synthesised">G‚ÇÇ (Gap 2)</span> is the time that organelles and other materials needed for cell division are synthesised ‚Äî before a cell can divide, it needs two of everything.</p>
                    
                    <p><strong>Mitosis</strong> is when the nucleus is actively dividing, and <strong>Cytokinesis</strong> is the final stage when the new cells separate.</p>
                </div>

                <div class="cell-animation-container">
                    <h3 style="margin-bottom: 24px; color: var(--text-secondary);">Visualise the Stages</h3>
                    <div class="cell-stage-display">
                        <div class="cell-membrane" id="cellMembrane"></div>
                        <div class="nucleus" id="nucleus"></div>
                        <div class="chromosomes" id="chromosomes">
                            <div class="chromosome-anim"></div>
                            <div class="chromosome-anim"></div>
                            <div class="chromosome-anim"></div>
                            <div class="chromosome-anim"></div>
                        </div>
                    </div>
                    <p id="stageDescription" style="margin-bottom: 24px; color: var(--text-muted);">Select a stage to see the cell</p>
                    <div class="stage-controls">
                        <button class="stage-btn" onclick="showCellStage('interphase')">Interphase</button>
                        <button class="stage-btn" onclick="showCellStage('prophase')">Prophase</button>
                        <button class="stage-btn" onclick="showCellStage('metaphase')">Metaphase</button>
                        <button class="stage-btn" onclick="showCellStage('anaphase')">Anaphase</button>
                        <button class="stage-btn" onclick="showCellStage('cytokinesis')">Cytokinesis</button>
                    </div>
                </div>
            </div>

            <div class="did-you-know">
                <div class="dyk-header">
                    <span class="dyk-icon">üß†</span>
                    <span class="dyk-title">Did You Know? ‚Äî Permanent Cells</span>
                </div>
                <p style="color: var(--text-secondary);">Some cells do not enter the cell cycle once they have formed ‚Äî they must last a lifetime. These are known as <strong>permanent cells</strong>. Examples include nerve cells, the light-sensitive cells of your retina, the transparent cells of the lens of your eye, and cardiac muscle ‚Äî the muscle that makes up your heart.</p>
            </div>
        </section>

        <!-- Section 3: Chromosomes and DNA Packaging -->
        <section class="section">
            <div class="section-header">
                <div class="section-number">03</div>
                <h2>Chromosomes & DNA Packaging</h2>
            </div>

            <div class="text-content" style="max-width: 800px;">
                <p>Eukaryotic cell division involves replicating the chromosomes that carry genetic information. A chromosome is made up of a mass of coiled threads of DNA and proteins. If a chromosome were the same length as five consecutive letters on this page, the DNA molecule it contained would stretch the length of a football pitch!</p>
                
                <p>When the DNA molecules condense, they need to be packaged very efficiently. This is achieved with the help of positively charged basic proteins called <span class="highlight-term" data-definition="Positively charged proteins involved in the coiling of DNA to form dense chromosomes">histones</span>. The DNA winds around the histones to form dense clusters known as <span class="highlight-term" data-definition="Dense clusters of DNA wound around histones">nucleosomes</span>.</p>
            </div>

            <div class="dna-packaging">
                <h3 style="margin-bottom: 24px;">Levels of DNA Organisation ‚Äî Click to explore</h3>
                <div class="dna-levels">
                    <div class="dna-level" onclick="selectDnaLevel(this)">
                        <div class="dna-level-icon">üß¨</div>
                        <div class="dna-level-content">
                            <h4>DNA Double Helix</h4>
                            <p>The fundamental structure of genetic material</p>
                        </div>
                        <span class="dna-level-size">2nm</span>
                    </div>
                    <div class="dna-level" onclick="selectDnaLevel(this)">
                        <div class="dna-level-icon">‚öôÔ∏è</div>
                        <div class="dna-level-content">
                            <h4>Histone</h4>
                            <p>Positively charged proteins that DNA wraps around</p>
                        </div>
                        <span class="dna-level-size">6nm</span>
                    </div>
                    <div class="dna-level" onclick="selectDnaLevel(this)">
                        <div class="dna-level-icon">üìø</div>
                        <div class="dna-level-content">
                            <h4>Nucleosome</h4>
                            <p>DNA wound around histone complexes (beads on a string)</p>
                        </div>
                        <span class="dna-level-size">10nm</span>
                    </div>
                    <div class="dna-level" onclick="selectDnaLevel(this)">
                        <div class="dna-level-icon">üîÑ</div>
                        <div class="dna-level-content">
                            <h4>Chromatin Fibre</h4>
                            <p>Coiled nucleosomes forming a thicker fibre</p>
                        </div>
                        <span class="dna-level-size">30nm</span>
                    </div>
                    <div class="dna-level" onclick="selectDnaLevel(this)">
                        <div class="dna-level-icon">üß≤</div>
                        <div class="dna-level-content">
                            <h4>Supercoiled Chromosome</h4>
                            <p>Highly condensed, visible during cell division</p>
                        </div>
                        <span class="dna-level-size">700nm+</span>
                    </div>
                </div>
            </div>

            <div class="karyotype-section">
                <h3>Human Karyotype ‚Äî 46 Chromosomes</h3>
                <p style="color: var(--text-secondary); margin-top: 8px;">Humans have 46 chromosomes: 22 pairs of autosomes + 1 pair of sex chromosomes (XX or XY)</p>
                <div class="karyotype-grid">
                    <!-- Autosomes 1-22 -->
                    <div class="chromosome-pair" onclick="highlightPair(this, 1)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">1</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 2)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">2</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 3)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">3</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 4)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">4</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 5)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">5</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 6)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">6</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 7)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">7</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 8)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">8</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 9)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">9</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 10)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">10</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 11)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">11</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 12)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">12</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 13)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">13</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 14)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">14</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 15)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">15</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 16)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">16</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 17)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">17</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 18)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">18</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 19)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">19</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 20)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">20</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 21)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">21</span>
                    </div>
                    <div class="chromosome-pair" onclick="highlightPair(this, 22)">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">22</span>
                    </div>
                    <!-- Sex chromosomes -->
                    <div class="chromosome-pair sex" onclick="highlightPair(this, 'X/Y')">
                        <div class="chromosome-visual">
                            <div class="chromosome"></div>
                            <div class="chromosome"></div>
                        </div>
                        <span class="chromosome-number">X/Y</span>
                    </div>
                </div>
            </div>

            <div class="learning-tip">
                <div class="tip-icon">üî¨</div>
                <div class="tip-content">
                    <h4>Chromatids vs Chromosomes</h4>
                    <p>After DNA replication, chromosomes consist of two <strong>chromatids</strong> (also called "chromosomes again" when they separate). A chromatid is itself a double helix, so after DNA replication, the chromosome consists of two DNA molecules (two double helices) until the chromatids separate.</p>
                </div>
            </div>
        </section>

        <!-- Section 4: Control of the Cell Cycle -->
        <section class="section">
            <div class="section-header">
                <div class="section-number">04</div>
                <h2>Control of the Cell Cycle</h2>
            </div>

            <div class="content-grid">
                <div class="text-content">
                    <p>The cell cycle is controlled by chemical signals which are made in response to different genes. This control is brought about at <strong>checkpoints</strong> when the cell cycle moves from one phase to the next.</p>
                    
                    <p>The chemical substances which control this are small proteins called <span class="highlight-term" data-definition="Small proteins that build up during interphase and control the cell cycle by attaching to CDKs">cyclins</span>. These build up and attach to enzymes called <span class="highlight-term" data-definition="Cyclin-dependent kinases: enzymes that phosphorylate proteins to control the cell cycle">cyclin-dependent kinases (CDKs)</span>.</p>
                    
                    <p>The cyclin-CDK complex forms phosphorylates other proteins, changing their shape and bringing about the next stage in the cell cycle. Examples include:</p>
                    
                    <ul style="color: var(--text-secondary); margin-left: 20px;">
                        <li style="margin-bottom: 12px;">The phosphorylation of chromatin in the nucleus, which results in the chromosomes becoming denser</li>
                        <li>The phosphorylation of proteins in the nuclear membrane, which leads to the breakdown of the nuclear membrane structure during cell division</li>
                    </ul>
                </div>

                <div style="background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; padding: 32px;">
                    <h3 style="margin-bottom: 20px; color: var(--accent-purple);">üîÑ Cyclin-CDK Mechanism</h3>
                    <div style="display: flex; flex-direction: column; gap: 16px;">
                        <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--bg-secondary); border-radius: 10px;">
                            <div style="width: 50px; height: 50px; background: var(--accent-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">1</div>
                            <p style="color: var(--text-secondary);">Cyclins accumulate during interphase</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--bg-secondary); border-radius: 10px;">
                            <div style="width: 50px; height: 50px; background: var(--accent-green); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">2</div>
                            <p style="color: var(--text-secondary);">Cyclins bind to CDKs, activating them</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--bg-secondary); border-radius: 10px;">
                            <div style="width: 50px; height: 50px; background: var(--accent-orange); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">3</div>
                            <p style="color: var(--text-secondary);">Cyclin-CDK complex phosphorylates target proteins</p>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--bg-secondary); border-radius: 10px;">
                            <div style="width: 50px; height: 50px; background: var(--accent-magenta); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700;">4</div>
                            <p style="color: var(--text-secondary);">Cell progresses to next phase of cycle</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Checkpoint Questions -->
        <section class="checkpoint-section">
            <div class="checkpoint-header">
                <div class="checkpoint-icon">‚úì</div>
                <div>
                    <h2>Checkpoint Questions</h2>
                    <p>Test your understanding ‚Äî instant feedback</p>
                </div>
            </div>

            <!-- Question 1 -->
            <div class="question-card" id="q1">
                <div class="question-number">Question 1 ‚Ä¢ Problem Solving</div>
                <div class="question-text">Why do chromosomes only become visible as a cell goes into mitosis?</div>
                <div class="options-grid">
                    <button class="option-btn" onclick="selectOption(this, 'q1')" data-correct="false">
                        <span class="option-letter">A</span>
                        <span>The microscope cannot focus during interphase</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q1')" data-correct="false">
                        <span class="option-letter">B</span>
                        <span>Chromosomes are only made during mitosis</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q1')" data-correct="true">
                        <span class="option-letter">C</span>
                        <span>During interphase chromosomes are decondensed; they condense during mitosis making them visible</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q1')" data-correct="false">
                        <span class="option-letter">D</span>
                        <span>Chromosomes dissolve during interphase</span>
                    </button>
                </div>
                <button class="check-answer-btn" onclick="checkAnswer('q1')">Check Answer</button>
                <div class="feedback-message" id="feedback-q1"></div>
            </div>

            <!-- Question 2 -->
            <div class="question-card" id="q2">
                <div class="question-number">Question 2 ‚Ä¢ Analysis</div>
                <div class="question-text">Looking at a typical cell cycle diagram where G‚ÇÅ takes up approximately 40% of the cycle, S phase 35%, G‚ÇÇ 15%, and M phase 10%. If a culture of cells is dividing every 48 hours, how long would you expect the S phase to take?</div>
                <div class="options-grid">
                    <button class="option-btn" onclick="selectOption(this, 'q2')" data-correct="false">
                        <span class="option-letter">A</span>
                        <span>4.8 hours</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q2')" data-correct="false">
                        <span class="option-letter">B</span>
                        <span>12 hours</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q2')" data-correct="true">
                        <span class="option-letter">C</span>
                        <span>16.8 hours</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q2')" data-correct="false">
                        <span class="option-letter">D</span>
                        <span>19.2 hours</span>
                    </button>
                </div>
                <button class="check-answer-btn" onclick="checkAnswer('q2')">Check Answer</button>
                <div class="feedback-message" id="feedback-q2"></div>
            </div>

            <!-- Question 3 -->
            <div class="question-card" id="q3">
                <div class="question-number">Question 3 ‚Ä¢ Knowledge</div>
                <div class="question-text">What is the role of histones in DNA packaging?</div>
                <div class="options-grid">
                    <button class="option-btn" onclick="selectOption(this, 'q3')" data-correct="false">
                        <span class="option-letter">A</span>
                        <span>They replicate DNA during S phase</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q3')" data-correct="true">
                        <span class="option-letter">B</span>
                        <span>DNA winds around them to form nucleosomes, allowing efficient packaging</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q3')" data-correct="false">
                        <span class="option-letter">C</span>
                        <span>They break down the nuclear membrane</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q3')" data-correct="false">
                        <span class="option-letter">D</span>
                        <span>They control the cell cycle checkpoints</span>
                    </button>
                </div>
                <button class="check-answer-btn" onclick="checkAnswer('q3')">Check Answer</button>
                <div class="feedback-message" id="feedback-q3"></div>
            </div>

            <!-- Question 4 -->
            <div class="question-card" id="q4">
                <div class="question-number">Question 4 ‚Ä¢ Application</div>
                <div class="question-text">Which of the following is NOT controlled by the cyclin-CDK complex?</div>
                <div class="options-grid">
                    <button class="option-btn" onclick="selectOption(this, 'q4')" data-correct="false">
                        <span class="option-letter">A</span>
                        <span>Phosphorylation of chromatin</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q4')" data-correct="false">
                        <span class="option-letter">B</span>
                        <span>Breakdown of nuclear membrane</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q4')" data-correct="true">
                        <span class="option-letter">C</span>
                        <span>DNA base pairing during replication</span>
                    </button>
                    <button class="option-btn" onclick="selectOption(this, 'q4')" data-correct="false">
                        <span class="option-letter">D</span>
                        <span>Chromosome condensation</span>
                    </button>
                </div>
                <button class="check-answer-btn" onclick="checkAnswer('q4')">Check Answer</button>
                <div class="feedback-message" id="feedback-q4"></div>
            </div>

            <div class="score-display" id="scoreDisplay" style="display: none;">
                <div class="score-circle" id="scoreCircle">
                    <span class="score-text" id="scoreText">0/4</span>
                </div>
                <div>
                    <h4>Your Score</h4>
                    <p style="color: var(--text-muted);" id="scoreMessage">Keep practising!</p>
                </div>
            </div>
        </section>

        <!-- Exam-Style Questions -->
        <section class="exam-section">
            <div class="exam-header">
                <div class="exam-icon">üìù</div>
                <div>
                    <h2>Exam-Style Questions</h2>
                    <p style="color: var(--text-muted);">Answer in your notes ‚Äî use the hints for structure and key terms</p>
                </div>
            </div>

            <!-- Exam Question 1 -->
            <div class="exam-question">
                <div class="exam-question-header">
                    <div class="question-number">Question 1</div>
                    <span class="marks-badge">4 marks</span>
                </div>
                <div class="exam-question-text">
                    Describe the role of the cell cycle in the growth of a multicellular organism.
                </div>
                <div class="support-dropdown">
                    <button class="dropdown-trigger" onclick="toggleDropdown(this)">
                        <span>üí° Planning Support</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>
                    <div class="dropdown-content">
                        <div class="dropdown-inner">
                            <div class="support-item">
                                <div class="support-icon">üìã</div>
                                <div>
                                    <div class="support-label">Structure</div>
                                    <div class="support-text">Define the cell cycle ‚Üí Explain mitosis produces identical cells ‚Üí Link to growth (more cells = larger organism) ‚Üí Mention tissue replacement/repair</div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">üîë</div>
                                <div>
                                    <div class="support-label">Key Terms to Include</div>
                                    <div class="keywords-list">
                                        <span class="keyword-tag">mitosis</span>
                                        <span class="keyword-tag">genetically identical</span>
                                        <span class="keyword-tag">daughter cells</span>
                                        <span class="keyword-tag">interphase</span>
                                        <span class="keyword-tag">DNA replication</span>
                                        <span class="keyword-tag">cytokinesis</span>
                                    </div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">‚ö†Ô∏è</div>
                                <div>
                                    <div class="support-label">Common Mistakes</div>
                                    <div class="support-text">Don't confuse mitosis with meiosis ‚Ä¢ Remember mitosis produces two cells, not four ‚Ä¢ The cell cycle includes interphase, not just mitosis</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exam Question 2 -->
            <div class="exam-question">
                <div class="exam-question-header">
                    <div class="question-number">Question 2</div>
                    <span class="marks-badge">6 marks</span>
                </div>
                <div class="exam-question-text">
                    Explain how DNA is packaged into chromosomes, including the role of histones and nucleosomes.
                </div>
                <div class="support-dropdown">
                    <button class="dropdown-trigger" onclick="toggleDropdown(this)">
                        <span>üí° Planning Support</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>
                    <div class="dropdown-content">
                        <div class="dropdown-inner">
                            <div class="support-item">
                                <div class="support-icon">üìã</div>
                                <div>
                                    <div class="support-label">Structure</div>
                                    <div class="support-text">Start with DNA double helix ‚Üí Introduce histones (describe their charge) ‚Üí Explain nucleosome formation ‚Üí Describe further coiling ‚Üí End with supercoiled chromosome visible at division</div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">üîë</div>
                                <div>
                                    <div class="support-label">Key Terms to Include</div>
                                    <div class="keywords-list">
                                        <span class="keyword-tag">histones</span>
                                        <span class="keyword-tag">positively charged</span>
                                        <span class="keyword-tag">nucleosomes</span>
                                        <span class="keyword-tag">coiling</span>
                                        <span class="keyword-tag">supercoiling</span>
                                        <span class="keyword-tag">condensation</span>
                                        <span class="keyword-tag">chromatin</span>
                                    </div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">üìè</div>
                                <div>
                                    <div class="support-label">Data to Include</div>
                                    <div class="support-text">DNA helix = 2nm ‚Ä¢ Nucleosome = ~10nm ‚Ä¢ Chromatin fibre = 30nm ‚Ä¢ Include the "beads on a string" analogy for nucleosomes</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exam Question 3 -->
            <div class="exam-question">
                <div class="exam-question-header">
                    <div class="question-number">Question 3</div>
                    <span class="marks-badge">5 marks</span>
                </div>
                <div class="exam-question-text">
                    Describe the role of cyclins and cyclin-dependent kinases (CDKs) in controlling the cell cycle.
                </div>
                <div class="support-dropdown">
                    <button class="dropdown-trigger" onclick="toggleDropdown(this)">
                        <span>üí° Planning Support</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>
                    <div class="dropdown-content">
                        <div class="dropdown-inner">
                            <div class="support-item">
                                <div class="support-icon">üìã</div>
                                <div>
                                    <div class="support-label">Structure</div>
                                    <div class="support-text">Define cyclins ‚Üí Define CDKs ‚Üí Explain how they work together ‚Üí Give specific examples of what they phosphorylate ‚Üí Link to checkpoints</div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">üîë</div>
                                <div>
                                    <div class="support-label">Key Terms to Include</div>
                                    <div class="keywords-list">
                                        <span class="keyword-tag">cyclins</span>
                                        <span class="keyword-tag">CDKs</span>
                                        <span class="keyword-tag">phosphorylation</span>
                                        <span class="keyword-tag">checkpoints</span>
                                        <span class="keyword-tag">protein kinase</span>
                                        <span class="keyword-tag">gene expression</span>
                                    </div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">‚úÖ</div>
                                <div>
                                    <div class="support-label">Examples to Give</div>
                                    <div class="support-text">Phosphorylation of chromatin ‚Üí chromosome condensation ‚Ä¢ Phosphorylation of nuclear membrane proteins ‚Üí breakdown of nuclear envelope</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exam Question 4 -->
            <div class="exam-question">
                <div class="exam-question-header">
                    <div class="question-number">Question 4</div>
                    <span class="marks-badge">3 marks</span>
                </div>
                <div class="exam-question-text">
                    A cell culture is dividing with a cell cycle of 24 hours. The relative lengths of each phase are shown in the table below. Calculate the time spent in each phase.<br><br>
                    <table style="width: 100%; margin-top: 12px; border-collapse: collapse;">
                        <tr style="background: var(--bg-card);">
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">Phase</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">Percentage of cycle</th>
                            <th style="padding: 12px; border: 1px solid var(--border-color); text-align: left;">Time (hours)</th>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">G‚ÇÅ</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">45%</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);"></td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">S</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">33%</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);"></td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">G‚ÇÇ</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">14%</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);"></td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">M + Cytokinesis</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);">8%</td>
                            <td style="padding: 12px; border: 1px solid var(--border-color);"></td>
                        </tr>
                    </table>
                </div>
                <div class="support-dropdown">
                    <button class="dropdown-trigger" onclick="toggleDropdown(this)">
                        <span>üí° Planning Support</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>
                    <div class="dropdown-content">
                        <div class="dropdown-inner">
                            <div class="support-item">
                                <div class="support-icon">üìã</div>
                                <div>
                                    <div class="support-label">Method</div>
                                    <div class="support-text">Time for each phase = (percentage √∑ 100) √ó total cycle time ‚Ä¢ Show your working for each calculation ‚Ä¢ Give answers to appropriate significant figures</div>
                                </div>
                            </div>
                            <div class="support-item">
                                <div class="support-icon">‚ö†Ô∏è</div>
                                <div>
                                    <div class="support-label">Mark Scheme Tip</div>
                                    <div class="support-text">You'll likely get 1 mark for method, 1 mark for correct calculations, and 1 mark for appropriate units. Always show working!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Vocabulary Section -->
        <section class="vocab-section">
            <div class="section-header">
                <div class="section-number">üìö</div>
                <h2>Subject Vocabulary</h2>
            </div>

            <div class="vocab-grid">
                <div class="vocab-card">
                    <div class="vocab-term">Mitosis</div>
                    <div class="vocab-definition">The process by which a cell divides to produce two genetically identical daughter cells</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Asexual Reproduction</div>
                    <div class="vocab-definition">The production of genetically identical offspring from a single parent or organism</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Sexual Reproduction</div>
                    <div class="vocab-definition">The production of offspring that are genetically different from the parent organisms by the fusing of two sex cells (gametes)</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Meiosis</div>
                    <div class="vocab-definition">A form of cell division in which the chromosome number of the original cell is halved, leading to the formation of gametes</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Histones</div>
                    <div class="vocab-definition">Positively charged proteins involved in the coiling of DNA to form dense chromosomes in cell division</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Nucleosomes</div>
                    <div class="vocab-definition">Dense clusters of DNA wound around histones</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Karyotype</div>
                    <div class="vocab-definition">A way of displaying an image of the chromosomes of a cell to show the pairs of autosomes and sex chromosomes</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Cell Cycle</div>
                    <div class="vocab-definition">A regulated process of three stages (interphase, mitosis and cytokinesis) in which cells divide into two genetically identical daughter cells</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Interphase</div>
                    <div class="vocab-definition">The period between active cell divisions when cells increase their size and mass, replicate their DNA and carry out normal metabolic activities</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Cytokinesis</div>
                    <div class="vocab-definition">The final stage of the cell cycle before the cell enters interphase again ‚Äî division of the cytoplasm at the end of mitosis to form two independent, genetically identical cells</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Chromatid</div>
                    <div class="vocab-definition">One strand of the replicated chromosome pair that is joined to the other chromatid at the centromere</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Cyclins</div>
                    <div class="vocab-definition">Small proteins that build up during interphase and are involved in the control of the cell cycle by their attachment to cyclin-dependent kinases</div>
                </div>
                <div class="vocab-card">
                    <div class="vocab-term">Cyclin-dependent Kinases (CDKs)</div>
                    <div class="vocab-definition">Enzymes involved in the control of the cell cycle by phosphorylating other proteins, activated by attachment to cyclins</div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Progress bar
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        });

        // Learning objectives toggle
        function toggleObjective(element) {
            element.classList.toggle('completed');
        }

        // Phase information
        const phaseData = {
            g1: { name: 'G‚ÇÅ Phase (Gap 1)', desc: 'Cell grows, takes in material, produces organelles. Variable length.' },
            s: { name: 'S Phase (Synthesis)', desc: 'DNA replication occurs. Chromosomes become double-stranded chromatids.' },
            g2: { name: 'G‚ÇÇ Phase (Gap 2)', desc: 'Organelles and materials for division are synthesised.' },
            m: { name: 'M Phase (Mitosis)', desc: 'Nuclear division occurs. Chromosomes are separated into two nuclei.' }
        };

        function showPhaseInfo(phase) {
            const panel = document.getElementById('phaseInfoPanel');
            const nameEl = document.getElementById('phaseName');
            const descEl = document.getElementById('phaseDesc');
            
            nameEl.textContent = phaseData[phase].name;
            descEl.textContent = phaseData[phase].desc;
            panel.classList.add('active');
            
            // Highlight the clicked phase
            document.querySelectorAll('.phase-label').forEach(el => {
                el.style.transform = 'scale(1)';
            });
            event.target.style.transform = 'scale(1.2)';
        }

        // DNA level selection
        function selectDnaLevel(element) {
            document.querySelectorAll('.dna-level').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
        }

        // Karyotype interaction
        function highlightPair(element, num) {
            document.querySelectorAll('.chromosome-pair').forEach(el => {
                el.style.background = 'var(--bg-secondary)';
            });
            element.style.background = 'rgba(34, 211, 238, 0.2)';
        }

        // Cell stage visualization
        const stageDescriptions = {
            interphase: 'Interphase: Cell grows, DNA replicates. Nucleus visible, chromosomes decondensed.',
            prophase: 'Prophase: Chromosomes condense and become visible. Nuclear envelope starts to break down.',
            metaphase: 'Metaphase: Chromosomes line up at the cell equator. Spindle fibres attached.',
            anaphase: 'Anaphase: Sister chromatids separate and move to opposite poles of the cell.',
            cytokinesis: 'Cytokinesis: Cytoplasm divides. Two identical daughter cells form.'
        };

        function showCellStage(stage) {
            const membrane = document.getElementById('cellMembrane');
            const nucleus = document.getElementById('nucleus');
            const chromosomes = document.getElementById('chromosomes');
            const desc = document.getElementById('stageDescription');
            
            // Reset
            membrane.style.borderRadius = '50%';
            membrane.style.width = 'calc(100% - 20px)';
            nucleus.style.opacity = '0.8';
            nucleus.style.width = '80px';
            nucleus.style.height = '80px';
            chromosomes.style.opacity = '0';
            
            document.querySelectorAll('.stage-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            desc.textContent = stageDescriptions[stage];
            
            switch(stage) {
                case 'interphase':
                    nucleus.style.opacity = '0.8';
                    break;
                case 'prophase':
                    nucleus.style.opacity = '0.4';
                    chromosomes.style.opacity = '1';
                    break;
                case 'metaphase':
                    nucleus.style.opacity = '0';
                    chromosomes.style.opacity = '1';
                    chromosomes.style.flexDirection = 'row';
                    break;
                case 'anaphase':
                    nucleus.style.opacity = '0';
                    chromosomes.style.opacity = '1';
                    chromosomes.innerHTML = `
                        <div style="display: flex; gap: 4px; transform: translateX(-30px);">
                            <div class="chromosome-anim"></div>
                            <div class="chromosome-anim"></div>
                        </div>
                        <div style="display: flex; gap: 4px; transform: translateX(30px);">
                            <div class="chromosome-anim"></div>
                            <div class="chromosome-anim"></div>
                        </div>
                    `;
                    break;
                case 'cytokinesis':
                    membrane.style.borderRadius = '40% 40% 40% 40%';
                    nucleus.style.opacity = '0';
                    chromosomes.style.opacity = '0';
                    break;
            }
        }

        // Checkpoint questions
        let selectedAnswers = {};
        let answeredQuestions = {};

        function selectOption(button, questionId) {
            if (answeredQuestions[questionId]) return;
            
            const question = document.getElementById(questionId);
            question.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            selectedAnswers[questionId] = button;
        }

        function checkAnswer(questionId) {
            if (answeredQuestions[questionId]) return;
            if (!selectedAnswers[questionId]) {
                alert('Please select an answer first!');
                return;
            }

            answeredQuestions[questionId] = true;
            const question = document.getElementById(questionId);
            const selected = selectedAnswers[questionId];
            const isCorrect = selected.getAttribute('data-correct') === 'true';
            const feedback = document.getElementById('feedback-' + questionId);

            question.querySelectorAll('.option-btn').forEach(btn => {
                btn.disabled = true;
                if (btn.getAttribute('data-correct') === 'true') {
                    btn.classList.add('correct-answer');
                }
            });

            if (isCorrect) {
                question.classList.add('correct');
                feedback.textContent = '‚úì Correct! Well done.';
                feedback.className = 'feedback-message show success';
            } else {
                selected.classList.add('wrong-answer');
                question.classList.add('incorrect');
                feedback.textContent = '‚úó Not quite. The correct answer is highlighted above.';
                feedback.className = 'feedback-message show error';
            }

            updateScore();
        }

        function updateScore() {
            const totalQuestions = 4;
            let correct = 0;
            
            for (let i = 1; i <= totalQuestions; i++) {
                if (answeredQuestions['q' + i]) {
                    const selected = selectedAnswers['q' + i];
                    if (selected && selected.getAttribute('data-correct') === 'true') {
                        correct++;
                    }
                }
            }

            const answered = Object.keys(answeredQuestions).length;
            if (answered === totalQuestions) {
                const scoreDisplay = document.getElementById('scoreDisplay');
                const scoreText = document.getElementById('scoreText');
                const scoreCircle = document.getElementById('scoreCircle');
                const scoreMessage = document.getElementById('scoreMessage');
                
                scoreDisplay.style.display = 'flex';
                scoreText.textContent = correct + '/' + totalQuestions;
                scoreCircle.style.setProperty('--score-percent', (correct / totalQuestions * 100) + '%');
                
                if (correct === totalQuestions) {
                    scoreMessage.textContent = 'Perfect! Excellent understanding!';
                } else if (correct >= 3) {
                    scoreMessage.textContent = 'Great work! Nearly there!';
                } else if (correct >= 2) {
                    scoreMessage.textContent = 'Good effort! Review the content above.';
                } else {
                    scoreMessage.textContent = 'Keep studying! Re-read the sections above.';
                }
            }
        }

        // Dropdown toggle for exam support
        function toggleDropdown(trigger) {
            trigger.classList.toggle('open');
            const content = trigger.nextElementSibling;
            content.classList.toggle('open');
        }

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section, .checkpoint-section, .exam-section, .vocab-section').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.6s ease';
            observer.observe(el);
        });
    </script>
</body>
</html>
