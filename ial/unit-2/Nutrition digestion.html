<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IGCSE Biology: Nutrition & Digestion | Interactive Revision</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Fraunces:wght@600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a1628;
            --bg-secondary: #111d32;
            --bg-card: #162035;
            --bg-elevated: #1a2744;
            --text-primary: #f0f4f8;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --accent-foundation: #22c55e;
            --accent-foundation-bg: rgba(34, 197, 94, 0.12);
            --accent-core: #3b82f6;
            --accent-core-bg: rgba(59, 130, 246, 0.12);
            --accent-extended: #a855f7;
            --accent-extended-bg: rgba(168, 85, 247, 0.12);
            --accent-challenge: #f59e0b;
            --accent-challenge-bg: rgba(245, 158, 11, 0.12);
            --border-color: rgba(148, 163, 184, 0.15);
            --success: #22c55e;
            --error: #ef4444;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'DM Sans', sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.7; min-height: 100vh; }
        
        /* Header styles */
        .header { background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%); border-bottom: 1px solid var(--border-color); padding: 1.5rem 2rem; position: sticky; top: 0; z-index: 100; }
        .header-content { max-width: 1400px; margin: 0 auto; }
        .header-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem; }
        .title-section h1 { font-family: 'Fraunces', serif; font-size: 1.75rem; font-weight: 700; background: linear-gradient(135deg, #f0f4f8 0%, #94a3b8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .title-section .subtitle { color: var(--text-secondary); font-size: 0.9rem; }
        .spec-badge { display: inline-flex; align-items: center; gap: 0.5rem; background: var(--bg-elevated); padding: 0.4rem 0.8rem; border-radius: 2rem; font-size: 0.8rem; color: var(--text-secondary); border: 1px solid var(--border-color); }
        
        /* Path selector */
        .path-selector { display: flex; gap: 0.5rem; background: var(--bg-elevated); padding: 0.35rem; border-radius: 0.75rem; flex-wrap: wrap; }
        .path-btn { padding: 0.6rem 1rem; border: none; background: transparent; color: var(--text-secondary); font-family: inherit; font-size: 0.85rem; font-weight: 500; border-radius: 0.5rem; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem; }
        .path-btn:hover { color: var(--text-primary); background: rgba(255, 255, 255, 0.05); }
        .path-btn.active { color: white; }
        .path-btn[data-path="foundation"].active { background: var(--accent-foundation); }
        .path-btn[data-path="core"].active { background: var(--accent-core); }
        .path-btn[data-path="extended"].active { background: var(--accent-extended); }
        .path-btn[data-path="challenge"].active { background: var(--accent-challenge); }
        
        /* Main container */
        .main-container { max-width: 1400px; margin: 0 auto; padding: 2rem; }
        
        /* Path descriptions */
        .path-description { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 1rem; padding: 1.25rem; margin-bottom: 1.5rem; display: none; }
        .path-description.active { display: block; animation: fadeIn 0.4s ease; }
        .path-description h3 { font-family: 'Fraunces', serif; font-size: 1.1rem; margin-bottom: 0.25rem; }
        .path-description p { color: var(--text-secondary); font-size: 0.9rem; }
        .path-description[data-path="foundation"] { border-left: 4px solid var(--accent-foundation); }
        .path-description[data-path="core"] { border-left: 4px solid var(--accent-core); }
        .path-description[data-path="extended"] { border-left: 4px solid var(--accent-extended); }
        .path-description[data-path="challenge"] { border-left: 4px solid var(--accent-challenge); }
        
        /* Topic navigation */
        .topic-nav { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; overflow-x: auto; padding-bottom: 0.5rem; flex-wrap: wrap; }
        .topic-btn { padding: 0.5rem 1rem; background: var(--bg-card); border: 1px solid var(--border-color); color: var(--text-secondary); font-family: inherit; font-size: 0.8rem; border-radius: 0.5rem; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; }
        .topic-btn:hover { border-color: var(--text-muted); color: var(--text-primary); }
        .topic-btn.active { background: var(--bg-elevated); border-color: var(--accent-core); color: var(--text-primary); }
        
        /* Topic content */
        .topic-content { display: none; }
        .topic-content.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Content cards */
        .content-card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; }
        .card-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .card-icon { width: 36px; height: 36px; border-radius: 0.6rem; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .card-icon.learn { background: var(--accent-core-bg); }
        .card-icon.practice { background: var(--accent-foundation-bg); }
        .card-icon.challenge { background: var(--accent-challenge-bg); }
        .card-icon.visual { background: var(--accent-extended-bg); }
        .card-header h3 { font-family: 'Fraunces', serif; font-size: 1.1rem; font-weight: 600; flex: 1; }
        .card-header .spec-ref { font-size: 0.7rem; color: var(--text-muted); background: var(--bg-elevated); padding: 0.2rem 0.6rem; border-radius: 1rem; }
        
        /* Section checkpoint */
        .section-checkpoint { background: linear-gradient(135deg, var(--accent-foundation-bg) 0%, rgba(34, 197, 94, 0.05) 100%); border: 2px solid var(--accent-foundation); border-radius: 1rem; padding: 1.5rem; margin: 1.5rem 0; }
        .section-checkpoint.core { background: linear-gradient(135deg, var(--accent-core-bg) 0%, rgba(59, 130, 246, 0.05) 100%); border-color: var(--accent-core); }
        .section-checkpoint.extended { background: linear-gradient(135deg, var(--accent-extended-bg) 0%, rgba(168, 85, 247, 0.05) 100%); border-color: var(--accent-extended); }
        .section-checkpoint.challenge { background: linear-gradient(135deg, var(--accent-challenge-bg) 0%, rgba(245, 158, 11, 0.05) 100%); border-color: var(--accent-challenge); }
        .checkpoint-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem; }
        .checkpoint-header h4 { font-size: 1rem; color: var(--accent-foundation); }
        .section-checkpoint.core .checkpoint-header h4 { color: var(--accent-core); }
        .section-checkpoint.extended .checkpoint-header h4 { color: var(--accent-extended); }
        .section-checkpoint.challenge .checkpoint-header h4 { color: var(--accent-challenge); }
        
        /* Key point box */
        .key-point { background: var(--bg-elevated); border-left: 3px solid var(--accent-core); padding: 1rem; margin: 1rem 0; border-radius: 0 0.5rem 0.5rem 0; font-size: 0.95rem; }
        .key-point strong { color: var(--accent-core); }
        
        /* Definition box */
        .definition-box { background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(168, 85, 247, 0.05) 100%); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 0.75rem; padding: 1rem; margin: 1rem 0; }
        .definition-box .term { font-weight: 700; color: var(--accent-core); font-size: 1rem; }
        .definition-box .definition { color: var(--text-secondary); margin-top: 0.25rem; font-size: 0.9rem; }
        
        /* Scaffold tip */
        .scaffold-tip { background: var(--accent-foundation-bg); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 0.75rem; padding: 1rem; margin: 1rem 0; display: flex; gap: 0.75rem; align-items: flex-start; }
        .scaffold-tip .icon { font-size: 1.25rem; flex-shrink: 0; }
        .scaffold-tip p { color: var(--text-secondary); font-size: 0.9rem; }
        .scaffold-tip strong { color: var(--accent-foundation); }
        
        /* Mnemonic box */
        .mnemonic-box { background: linear-gradient(135deg, rgba(245, 158, 11, 0.15) 0%, rgba(245, 158, 11, 0.05) 100%); border: 1px solid rgba(245, 158, 11, 0.4); border-radius: 0.75rem; padding: 1rem; margin: 1rem 0; }
        .mnemonic-box .title { color: var(--accent-challenge); font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
        .mnemonic-box .mnemonic { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.25rem; }
        .mnemonic-box .explanation { color: var(--text-secondary); font-size: 0.85rem; }
        
        /* Exam tip */
        .exam-tip { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 0.75rem; padding: 1rem; margin: 1rem 0; }
        .exam-tip .title { color: #f87171; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
        .exam-tip p { color: var(--text-secondary); font-size: 0.9rem; }
        
        /* Data tables */
        .data-table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.85rem; }
        .data-table th, .data-table td { padding: 0.6rem 0.8rem; text-align: left; border-bottom: 1px solid var(--border-color); }
        .data-table th { background: var(--bg-elevated); font-weight: 600; color: var(--text-primary); }
        .data-table td { color: var(--text-secondary); }
        
        /* Quiz containers */
        .quiz-container { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .quiz-question { font-weight: 500; margin-bottom: 1rem; color: var(--text-primary); font-size: 0.95rem; }
        .quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }
        .quiz-option { padding: 0.75rem 1rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.5rem; cursor: pointer; transition: all 0.2s ease; color: var(--text-secondary); font-size: 0.9rem; }
        .quiz-option:hover:not(.correct):not(.incorrect) { border-color: var(--accent-core); color: var(--text-primary); }
        .quiz-option.correct { background: var(--accent-foundation-bg); border-color: var(--accent-foundation); color: var(--accent-foundation); }
        .quiz-option.incorrect { background: rgba(239, 68, 68, 0.1); border-color: var(--error); color: var(--error); }
        .quiz-feedback { margin-top: 0.75rem; padding: 0.75rem; border-radius: 0.5rem; font-size: 0.9rem; display: none; }
        .quiz-feedback.show { display: block; }
        .quiz-feedback.correct { background: var(--accent-foundation-bg); color: var(--accent-foundation); }
        .quiz-feedback.incorrect { background: rgba(239, 68, 68, 0.1); color: var(--error); }
        
        /* Multi-quiz (multiple questions in sequence) */
        .multi-quiz { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .multi-quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .multi-quiz-header h4 { font-size: 0.95rem; color: var(--text-primary); }
        .quiz-progress { font-size: 0.8rem; color: var(--text-muted); }
        .quiz-score { margin-top: 1rem; padding: 1rem; background: var(--bg-card); border-radius: 0.5rem; text-align: center; display: none; }
        .quiz-score.show { display: block; }
        .quiz-score .score-text { font-size: 1.25rem; font-weight: 600; }
        .quiz-score .score-message { color: var(--text-secondary); margin-top: 0.25rem; }
        
        /* Fill in the blank */
        .fill-blank { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .fill-blank h4 { font-size: 0.95rem; margin-bottom: 0.75rem; }
        .word-bank { display: flex; flex-wrap: wrap; gap: 0.5rem; padding: 0.75rem; background: var(--bg-card); border-radius: 0.5rem; margin-bottom: 1rem; }
        .word-bank-item { padding: 0.35rem 0.7rem; background: var(--accent-core-bg); border: 1px solid var(--accent-core); border-radius: 0.35rem; font-size: 0.8rem; color: var(--text-primary); }
        .fill-blank-text { font-size: 0.95rem; color: var(--text-secondary); line-height: 2.2; }
        .blank-input { width: 130px; padding: 0.3rem 0.5rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.35rem; color: var(--text-primary); font-family: inherit; font-size: 0.85rem; text-align: center; }
        .blank-input:focus { outline: none; border-color: var(--accent-core); }
        .blank-input.correct { border-color: var(--accent-foundation); background: var(--accent-foundation-bg); }
        .blank-input.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.1); }
        
        /* Matching exercise */
        .matching-exercise { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .matching-exercise h4 { font-size: 0.95rem; margin-bottom: 1rem; }
        .matching-pairs { display: grid; grid-template-columns: 1fr auto 1fr; gap: 0.75rem; align-items: center; }
        .match-item { padding: 0.6rem 0.8rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.5rem; font-size: 0.85rem; text-align: center; }
        .match-item.left { border-color: var(--accent-core); }
        .match-select { padding: 0.5rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.35rem; color: var(--text-primary); font-family: inherit; font-size: 0.8rem; cursor: pointer; }
        .match-select:focus { outline: none; border-color: var(--accent-core); }
        .match-select.correct { border-color: var(--accent-foundation); background: var(--accent-foundation-bg); }
        .match-select.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.1); }
        
        /* Recall practice (flashcard style) */
        .recall-card { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .recall-card h4 { font-size: 0.95rem; margin-bottom: 0.75rem; color: var(--accent-extended); }
        .recall-question { padding: 1rem; background: var(--bg-card); border-radius: 0.5rem; margin-bottom: 0.75rem; }
        .recall-question p { color: var(--text-secondary); font-size: 0.9rem; }
        .recall-input { width: 100%; padding: 0.75rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.5rem; color: var(--text-primary); font-family: inherit; font-size: 0.9rem; resize: vertical; min-height: 60px; margin-bottom: 0.75rem; }
        .recall-input:focus { outline: none; border-color: var(--accent-core); }
        .recall-answer { padding: 1rem; background: var(--bg-card); border-radius: 0.5rem; border-left: 3px solid var(--accent-foundation); display: none; }
        .recall-answer.show { display: block; }
        .recall-answer h5 { color: var(--accent-foundation); font-size: 0.85rem; margin-bottom: 0.5rem; }
        .recall-answer p { color: var(--text-secondary); font-size: 0.9rem; }
        
        /* True/False quiz */
        .tf-quiz { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .tf-quiz h4 { font-size: 0.95rem; margin-bottom: 1rem; }
        .tf-item { display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--bg-card); border-radius: 0.5rem; margin-bottom: 0.5rem; }
        .tf-statement { flex: 1; color: var(--text-secondary); font-size: 0.9rem; }
        .tf-buttons { display: flex; gap: 0.5rem; }
        .tf-btn { padding: 0.4rem 0.8rem; border: 1px solid var(--border-color); background: transparent; border-radius: 0.35rem; color: var(--text-secondary); font-size: 0.8rem; cursor: pointer; transition: all 0.2s ease; }
        .tf-btn:hover { border-color: var(--accent-core); color: var(--text-primary); }
        .tf-btn.selected.correct { background: var(--accent-foundation-bg); border-color: var(--accent-foundation); color: var(--accent-foundation); }
        .tf-btn.selected.incorrect { background: rgba(239, 68, 68, 0.1); border-color: var(--error); color: var(--error); }
        .tf-feedback { margin-left: 0.5rem; font-size: 0.9rem; display: none; }
        .tf-feedback.show { display: inline; }
        
        /* Ordering exercise */
        .ordering-exercise { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .ordering-exercise h4 { font-size: 0.95rem; margin-bottom: 1rem; }
        .order-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.5rem; margin-bottom: 0.5rem; cursor: grab; }
        .order-item:active { cursor: grabbing; }
        .order-number { width: 28px; height: 28px; background: var(--accent-core-bg); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 600; color: var(--accent-core); }
        .order-text { color: var(--text-secondary); font-size: 0.9rem; flex: 1; }
        .order-item.correct { border-color: var(--accent-foundation); }
        .order-item.correct .order-number { background: var(--accent-foundation-bg); color: var(--accent-foundation); }
        .order-item.incorrect { border-color: var(--error); }
        .order-item.incorrect .order-number { background: rgba(239, 68, 68, 0.1); color: var(--error); }
        
        /* Extended response */
        .extended-response { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .response-textarea { width: 100%; min-height: 120px; padding: 0.75rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.5rem; color: var(--text-primary); font-family: inherit; font-size: 0.9rem; resize: vertical; margin: 0.75rem 0; }
        .response-textarea:focus { outline: none; border-color: var(--accent-core); }
        
        /* Reveal answer */
        .reveal-answer { margin-top: 0.75rem; }
        .reveal-btn { width: 100%; padding: 0.75rem; background: var(--bg-card); border: 1px dashed var(--border-color); border-radius: 0.5rem; color: var(--text-secondary); font-family: inherit; font-size: 0.85rem; cursor: pointer; transition: all 0.2s ease; }
        .reveal-btn:hover { border-color: var(--accent-core); color: var(--text-primary); }
        .reveal-content { display: none; padding: 1rem; background: var(--bg-card); border-radius: 0.5rem; margin-top: 0.5rem; }
        .reveal-content.show { display: block; animation: fadeIn 0.3s ease; }
        
        /* Mark scheme */
        .mark-scheme { background: var(--bg-card); border-radius: 0.5rem; padding: 1rem; }
        .mark-scheme h5 { color: var(--accent-extended); margin-bottom: 0.5rem; font-size: 0.9rem; }
        .mark-scheme ul { list-style: none; }
        .mark-scheme li { color: var(--text-secondary); font-size: 0.85rem; padding: 0.2rem 0; padding-left: 1rem; position: relative; }
        .mark-scheme li::before { content: "‚Ä¢"; position: absolute; left: 0; color: var(--accent-foundation); }
        
        /* Comparison grid */
        .comparison-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1rem 0; }
        .comparison-card { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1rem; border: 1px solid var(--border-color); }
        .comparison-card h4 { font-size: 0.95rem; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
        .comparison-card ul { list-style: none; }
        .comparison-card li { color: var(--text-secondary); font-size: 0.85rem; padding: 0.15rem 0; }
        .comparison-card.carbs { border-top: 3px solid var(--accent-foundation); }
        .comparison-card.carbs h4 { color: var(--accent-foundation); }
        .comparison-card.proteins { border-top: 3px solid var(--accent-core); }
        .comparison-card.proteins h4 { color: var(--accent-core); }
        .comparison-card.lipids { border-top: 3px solid var(--accent-challenge); }
        .comparison-card.lipids h4 { color: var(--accent-challenge); }
        
        /* Buttons */
        .btn { padding: 0.6rem 1.25rem; border: none; border-radius: 0.5rem; font-family: inherit; font-size: 0.85rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; }
        .btn-primary { background: var(--accent-core); color: white; }
        .btn-primary:hover { background: #2563eb; }
        .btn-secondary { background: var(--bg-card); color: var(--text-secondary); border: 1px solid var(--border-color); }
        .btn-secondary:hover { border-color: var(--accent-core); color: var(--text-primary); }
        .btn-success { background: var(--accent-foundation); color: white; }
        
        /* Two column layout */
        .two-column { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
        
        /* Progress tracker */
        .progress-tracker { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.75rem; padding: 1rem 1.25rem; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; }
        .progress-label { color: var(--text-secondary); font-size: 0.85rem; }
        .progress-bar { flex: 1; min-width: 150px; height: 8px; background: var(--bg-elevated); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-foundation), var(--accent-core)); border-radius: 4px; transition: width 0.5s ease; width: 0%; }
        .progress-text { font-weight: 600; color: var(--text-primary); font-size: 0.9rem; }
        
        /* Spec checklist */
        .spec-checklist { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 1rem; padding: 1.25rem; margin-top: 2rem; }
        .spec-checklist h3 { font-family: 'Fraunces', serif; font-size: 1.1rem; margin-bottom: 0.75rem; }
        .checklist-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 0.5rem; }
        .checklist-item { display: flex; align-items: flex-start; gap: 0.5rem; padding: 0.5rem; border-radius: 0.35rem; transition: background 0.2s ease; }
        .checklist-item:hover { background: var(--bg-elevated); }
        .checklist-checkbox { width: 18px; height: 18px; border: 2px solid var(--border-color); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 1px; }
        .checklist-checkbox.checked { background: var(--accent-foundation); border-color: var(--accent-foundation); }
        .checklist-checkbox svg { width: 12px; height: 12px; color: white; opacity: 0; }
        .checklist-checkbox.checked svg { opacity: 1; }
        .checklist-item .spec-number { color: var(--text-muted); font-size: 0.75rem; min-width: 35px; }
        .checklist-item .spec-text { color: var(--text-secondary); font-size: 0.8rem; line-height: 1.4; }
        
        /* Visibility control */
        [data-show-path] { display: none; }
        [data-show-path].visible { display: block; }
        
        /* Diagram container */
        .diagram-container { background: var(--bg-elevated); border-radius: 0.75rem; padding: 1rem; margin: 1rem 0; text-align: center; }
        .diagram-container svg { max-width: 100%; height: auto; }
        .diagram-caption { margin-top: 0.75rem; color: var(--text-muted); font-size: 0.8rem; }
        
        /* Practical box */
        .practical-box { background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%); border: 1px solid rgba(168, 85, 247, 0.3); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .practical-box .header { display: flex; align-items: center; gap: 0.5rem; font-weight: 700; color: var(--accent-extended); margin-bottom: 0.75rem; font-size: 0.95rem; }
        .practical-box .steps { counter-reset: step; }
        .practical-box .step { position: relative; padding-left: 2rem; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.85rem; }
        .practical-box .step::before { counter-increment: step; content: counter(step); position: absolute; left: 0; top: 0; width: 20px; height: 20px; background: var(--accent-extended-bg); color: var(--accent-extended); border-radius: 50%; font-size: 0.7rem; font-weight: 600; display: flex; align-items: center; justify-content: center; }
        
        /* Quick fire round */
        .quick-fire { background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 0.75rem; padding: 1.25rem; margin: 1rem 0; }
        .quick-fire h4 { color: #f87171; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .quick-fire-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; border-bottom: 1px solid var(--border-color); }
        .quick-fire-item:last-child { border-bottom: none; }
        .quick-fire-q { flex: 1; color: var(--text-secondary); font-size: 0.9rem; }
        .quick-fire-input { width: 120px; padding: 0.35rem 0.5rem; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 0.35rem; color: var(--text-primary); font-family: inherit; font-size: 0.85rem; }
        .quick-fire-input:focus { outline: none; border-color: var(--accent-core); }
        .quick-fire-input.correct { border-color: var(--accent-foundation); background: var(--accent-foundation-bg); }
        .quick-fire-input.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.1); }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header { padding: 1rem; }
            .title-section h1 { font-size: 1.35rem; }
            .path-selector { width: 100%; }
            .path-btn { flex: 1; justify-content: center; padding: 0.5rem; font-size: 0.75rem; }
            .main-container { padding: 1rem; }
            .content-card { padding: 1rem; }
            .comparison-grid { grid-template-columns: 1fr; }
            .matching-pairs { grid-template-columns: 1fr; }
            .match-item.left { margin-bottom: -0.5rem; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-top">
                <div class="title-section">
                    <h1>üß¨ Nutrition & Digestion</h1>
                    <p class="subtitle">Biological Molecules, Enzymes, Diet & the Digestive System</p>
                </div>
                <div class="spec-badge">üìö IGCSE Edexcel Biology (2.7-2.13, 2.24-2.32)</div>
            </div>
            <div class="path-selector">
                <button class="path-btn active" data-path="foundation">üå± Foundation</button>
                <button class="path-btn" data-path="core">‚ö° Core</button>
                <button class="path-btn" data-path="extended">üí° Extended</button>
                <button class="path-btn" data-path="challenge">‚≠ê Challenge</button>
            </div>
        </div>
    </header>

    <main class="main-container">
        <!-- Path descriptions -->
        <div class="path-description active" data-path="foundation">
            <h3>üå± Foundation Pathway</h3>
            <p>Build confidence with scaffolded explanations, visual aids, word banks, and guided activities. Perfect for grades 4-5 or if you need extra support.</p>
        </div>
        <div class="path-description" data-path="core">
            <h3>‚ö° Core Pathway</h3>
            <p>Master the essential content for grades 5-6. Clear explanations with retrieval practice and exam-style questions.</p>
        </div>
        <div class="path-description" data-path="extended">
            <h3>üí° Extended Pathway</h3>
            <p>Push for grades 7-8 with deeper explanations, application questions, and extended writing practice.</p>
        </div>
        <div class="path-description" data-path="challenge">
            <h3>‚≠ê Challenge Pathway</h3>
            <p>Aim for grades 8-9 with complex scenarios, evaluation questions, and synoptic links.</p>
        </div>

        <!-- Progress tracker -->
        <div class="progress-tracker">
            <span class="progress-label">Your progress:</span>
            <div class="progress-bar"><div class="progress-fill"></div></div>
            <span class="progress-text">0%</span>
        </div>

        <!-- Topic navigation -->
        <nav class="topic-nav">
            <button class="topic-btn active" data-topic="molecules">Biological Molecules</button>
            <button class="topic-btn" data-topic="food-tests">Food Tests</button>
            <button class="topic-btn" data-topic="enzymes">Enzymes</button>
            <button class="topic-btn" data-topic="diet">Balanced Diet</button>
            <button class="topic-btn" data-topic="digestive">Digestive System</button>
            <button class="topic-btn" data-topic="absorption">Digestion & Absorption</button>
        </nav>

        <!-- ==================== TOPIC 1: BIOLOGICAL MOLECULES ==================== -->
        <section class="topic-content active" data-topic="molecules">
            
            <!-- SPEC 2.7: Chemical Elements -->
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon learn">üìò</div>
                    <h3>Chemical Elements in Biological Molecules</h3>
                    <span class="spec-ref">2.7</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>What you need to learn:</strong> The three main food groups (carbohydrates, proteins, and lipids) are made from different chemical elements. Your job is to remember which elements are in each one!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Memory Trick - Learn This First!</div>
                        <p class="mnemonic">"CHO" for carbs and lipids, "CHON" for proteins</p>
                        <p class="explanation">All three contain <strong>C</strong>arbon, <strong>H</strong>ydrogen, and <strong>O</strong>xygen. Proteins have an extra letter - <strong>N</strong> for Nitrogen! This is your key fact for the exam.</p>
                    </div>

                    <div class="comparison-grid">
                        <div class="comparison-card carbs">
                            <h4>üçû Carbohydrates</h4>
                            <ul>
                                <li><strong>C</strong>arbon ‚úì</li>
                                <li><strong>H</strong>ydrogen ‚úì</li>
                                <li><strong>O</strong>xygen ‚úì</li>
                            </ul>
                            <p style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-muted);">Examples: bread, pasta, sugar</p>
                        </div>
                        <div class="comparison-card proteins">
                            <h4>ü•© Proteins</h4>
                            <ul>
                                <li><strong>C</strong>arbon ‚úì</li>
                                <li><strong>H</strong>ydrogen ‚úì</li>
                                <li><strong>O</strong>xygen ‚úì</li>
                                <li><strong>N</strong>itrogen ‚≠ê EXTRA!</li>
                            </ul>
                            <p style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-muted);">Examples: meat, fish, eggs</p>
                        </div>
                        <div class="comparison-card lipids">
                            <h4>üßà Lipids (Fats)</h4>
                            <ul>
                                <li><strong>C</strong>arbon ‚úì</li>
                                <li><strong>H</strong>ydrogen ‚úì</li>
                                <li><strong>O</strong>xygen ‚úì</li>
                            </ul>
                            <p style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-muted);">Examples: butter, oil, cheese</p>
                        </div>
                    </div>

                    <div class="key-point">
                        <strong>üéØ Key Exam Fact:</strong> The ONLY molecule with <strong>nitrogen</strong> is PROTEIN! This is asked in almost every exam paper.
                    </div>

                    <!-- QUIZ 1: Basic understanding -->
                    <div class="quiz-container" data-quiz="elements-1">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> Which element is found in proteins but NOT in carbohydrates?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Carbon</div>
                            <div class="quiz-option" data-correct="false">Hydrogen</div>
                            <div class="quiz-option" data-correct="true">Nitrogen</div>
                            <div class="quiz-option" data-correct="false">Oxygen</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2: Application -->
                    <div class="quiz-container" data-quiz="elements-2">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> A molecule contains carbon, hydrogen, oxygen, and nitrogen. What type of molecule is it?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Carbohydrate</div>
                            <div class="quiz-option" data-correct="true">Protein</div>
                            <div class="quiz-option" data-correct="false">Lipid</div>
                            <div class="quiz-option" data-correct="false">Water</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">All three food groups contain carbon.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Carbohydrates contain nitrogen.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Proteins are the only food group with nitrogen.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Lipids contain oxygen.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- FILL IN THE BLANK with word bank -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences (use the word bank):</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">carbon</span>
                            <span class="word-bank-item">hydrogen</span>
                            <span class="word-bank-item">oxygen</span>
                            <span class="word-bank-item">nitrogen</span>
                            <span class="word-bank-item">proteins</span>
                        </div>
                        <p class="fill-blank-text">
                            1. All biological molecules contain the elements <input type="text" class="blank-input" data-answer="carbon">, <input type="text" class="blank-input" data-answer="hydrogen">, and <input type="text" class="blank-input" data-answer="oxygen">.<br><br>
                            2. The element <input type="text" class="blank-input" data-answer="nitrogen"> is only found in <input type="text" class="blank-input" data-answer="proteins">.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- MATCHING -->
                    <div class="matching-exercise">
                        <h4>üîó Match each molecule to its elements:</h4>
                        <div class="matching-pairs">
                            <div class="match-item left">Carbohydrates</div>
                            <select class="match-select" data-correct="CHO">
                                <option value="">Select...</option>
                                <option value="CHO">C, H, O</option>
                                <option value="CHON">C, H, O, N</option>
                            </select>
                            <div class="match-item">Contains 3 elements</div>
                            
                            <div class="match-item left">Proteins</div>
                            <select class="match-select" data-correct="CHON">
                                <option value="">Select...</option>
                                <option value="CHO">C, H, O</option>
                                <option value="CHON">C, H, O, N</option>
                            </select>
                            <div class="match-item">Contains 4 elements</div>
                            
                            <div class="match-item left">Lipids</div>
                            <select class="match-select" data-correct="CHO">
                                <option value="">Select...</option>
                                <option value="CHO">C, H, O</option>
                                <option value="CHON">C, H, O, N</option>
                            </select>
                            <div class="match-item">Contains 3 elements</div>
                        </div>
                        <button class="btn btn-primary" onclick="checkMatching(this)" style="margin-top: 1rem;">Check Matches</button>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint: Can you answer these without looking?</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> What elements are found in ALL three food groups?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Carbon (C), Hydrogen (H), and Oxygen (O)</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> What extra element do proteins contain?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Nitrogen (N)</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q3:</strong> A scientist finds nitrogen in a food sample. What type of food molecule must be present?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Protein (because only proteins contain nitrogen)</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>All biological molecules contain the elements <strong>carbon (C), hydrogen (H), and oxygen (O)</strong>. Proteins additionally contain <strong>nitrogen (N)</strong>, which is essential for forming amino acids.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Molecule</th><th>Elements Present</th><th>Key Feature</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Carbohydrates</td><td>C, H, O</td><td>H:O ratio usually 2:1</td></tr>
                            <tr><td>Proteins</td><td>C, H, O, N</td><td>Contains nitrogen (sometimes sulfur)</td></tr>
                            <tr><td>Lipids</td><td>C, H, O</td><td>Much more C and H than O</td></tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <div class="title">‚ö†Ô∏è Exam Tip</div>
                        <p>Common question: "Which element is found in proteins but not in carbohydrates?" Answer: <strong>nitrogen</strong>. Some proteins also contain sulfur, but you only need to know nitrogen for this specification.</p>
                    </div>

                    <!-- QUICK FIRE RETRIEVAL -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Elements in carbohydrates:</span>
                            <input type="text" class="quick-fire-input" data-answer="C, H, O" placeholder="e.g. C, H, O">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Elements in proteins:</span>
                            <input type="text" class="quick-fire-input" data-answer="C, H, O, N" placeholder="e.g. C, H, O">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Elements in lipids:</span>
                            <input type="text" class="quick-fire-input" data-answer="C, H, O" placeholder="e.g. C, H, O">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Unique element in proteins:</span>
                            <input type="text" class="quick-fire-input" data-answer="nitrogen" placeholder="Element name">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì A food sample is analysed and found to contain 53% carbon, 7% hydrogen, 23% oxygen, and 17% nitrogen. What type of molecule is present?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Carbohydrate</div>
                            <div class="quiz-option" data-correct="true">Protein</div>
                            <div class="quiz-option" data-correct="false">Lipid</div>
                            <div class="quiz-option" data-correct="false">Cannot determine</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Which statement about biological molecules is correct?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Lipids contain more oxygen than carbohydrates</div>
                            <div class="quiz-option" data-correct="false">Carbohydrates always contain nitrogen</div>
                            <div class="quiz-option" data-correct="true">All three types contain carbon, hydrogen and oxygen</div>
                            <div class="quiz-option" data-correct="false">Only proteins contain carbon</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 2 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (2 marks):</strong> State two differences between the elemental composition of carbohydrates and proteins.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (2 marks)</h5>
                                    <ul>
                                        <li>Proteins contain nitrogen / carbohydrates do not (1)</li>
                                        <li>Proteins may contain sulfur / carbohydrates do not (1)</li>
                                        <li>Carbohydrates have H:O ratio of 2:1 / proteins do not (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint core">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Core Checkpoint: Test Your Recall</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> Explain how you could identify that a food sample contains protein just by looking at its elemental analysis.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>If the analysis shows the presence of nitrogen, the sample must contain protein. This is because proteins are the only biological molecules that contain nitrogen (as part of amino acids).</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== EXTENDED PATHWAY ===== -->
                <div data-show-path="extended">
                    
                    <p>The elemental composition of biological molecules determines their chemical properties and biological functions.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Molecule</th><th>Elements</th><th>Why These Elements?</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Carbohydrates</td><td>C, H, O</td><td>C-H bonds store energy; O allows hydrogen bonding</td></tr>
                            <tr><td>Proteins</td><td>C, H, O, N (+ sometimes S)</td><td>N is essential in amino group (-NH‚ÇÇ); S forms disulfide bridges</td></tr>
                            <tr><td>Lipids</td><td>C, H, O (less O)</td><td>High C:H ratio = high energy density; low O = hydrophobic</td></tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>Structure-Function Link:</strong> Lipids have proportionally less oxygen than carbohydrates. This means lipids release more energy per gram when oxidised during respiration (~37 kJ/g vs ~17 kJ/g).
                    </div>

                    <!-- APPLICATION QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Why do lipids release more energy per gram than carbohydrates during respiration?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Lipids contain more oxygen atoms</div>
                            <div class="quiz-option" data-correct="true">Lipids have more C-H bonds to be oxidised</div>
                            <div class="quiz-option" data-correct="false">Lipids contain nitrogen which releases energy</div>
                            <div class="quiz-option" data-correct="false">Lipids are already partially oxidised</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì What is the role of nitrogen in protein molecules?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Forms glycosidic bonds between amino acids</div>
                            <div class="quiz-option" data-correct="true">Forms part of the amino group (-NH‚ÇÇ) in amino acids</div>
                            <div class="quiz-option" data-correct="false">Provides energy when the protein is digested</div>
                            <div class="quiz-option" data-correct="false">Makes proteins soluble in water</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 4 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Compare the elemental composition of carbohydrates and lipids and explain how this affects their role as energy storage molecules.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Both contain C, H, O (1)</li>
                                        <li>Lipids have proportionally less oxygen / higher C:H ratio (1)</li>
                                        <li>More C-H bonds means more bonds to be oxidised (1)</li>
                                        <li>Lipids release more energy per gram / ~37 kJ vs ~17 kJ (1)</li>
                                        <li>Lipids are better for long-term energy storage / more compact (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CHECKPOINT -->
                    <div class="section-checkpoint extended">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Extended Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> Some proteins also contain sulfur. What role does sulfur play in protein structure?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Sulfur atoms can form disulfide bridges (S-S bonds) between different parts of the protein chain. These covalent bonds help stabilise the tertiary (3D) structure of the protein.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CHALLENGE PATHWAY ===== -->
                <div data-show-path="challenge">
                    
                    <p>At the molecular level, elemental composition reflects evolutionary optimisation for specific biological functions.</p>

                    <div class="key-point">
                        <strong>Energy density and reduction state:</strong> Lipids are more 'reduced' than carbohydrates (higher proportion of C-H bonds relative to C-O bonds). Oxidation of these bonds during aerobic respiration releases more energy, making lipids approximately twice as energy-dense as carbohydrates.
                    </div>

                    <!-- EVALUATION QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì A student claims that "lipids are better energy storage molecules than carbohydrates in all situations." Evaluate this claim.</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Correct - lipids always store more energy</div>
                            <div class="quiz-option" data-correct="false">Incorrect - carbohydrates store more energy per gram</div>
                            <div class="quiz-option" data-correct="true">Partially correct - lipids are better for long-term but carbohydrates give faster energy release</div>
                            <div class="quiz-option" data-correct="false">Incorrect - both store the same amount of energy</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 6 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> Explain why lipids contain proportionally less oxygen than carbohydrates, and analyse how this affects their role as energy storage molecules. Include reference to the chemical processes involved in energy release.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Lipids have a high proportion of C-H bonds relative to C-O bonds (1)</li>
                                        <li>This means lipids are more 'reduced' than carbohydrates (1)</li>
                                        <li>More energy is released when C-H bonds are oxidised (1)</li>
                                        <li>Lipids release ~37 kJ/g vs ~17 kJ/g for carbohydrates (1)</li>
                                        <li>Lipids are hydrophobic so don't require water for storage / don't attract water (1)</li>
                                        <li>This makes lipids more efficient / compact for long-term energy storage (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SYNOPTIC QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Synoptic Challenge (6 marks):</strong> Migratory birds store fat before long flights, while sprinters rely on carbohydrate stores. Explain the biological advantages of each energy storage strategy for these different activities.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Fat stores more energy per gram / more energy dense (1)</li>
                                        <li>Fat is lighter than equivalent carbohydrate storage / important for flight (1)</li>
                                        <li>Long flights need sustained energy over many hours (1)</li>
                                        <li>Carbohydrates can be broken down faster / quicker ATP release (1)</li>
                                        <li>Sprinting requires rapid burst of energy / short duration (1)</li>
                                        <li>Glycogen in muscles can be accessed immediately / without transport (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CHECKPOINT -->
                    <div class="section-checkpoint challenge">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Challenge Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> Why might the elemental composition of organisms be considered evidence for common ancestry?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>All living organisms use the same basic elements (C, H, O, N) to build their biological molecules. The universal use of carbon-based molecules (carbohydrates, proteins, lipids, nucleic acids) across all life forms suggests all organisms evolved from a common ancestor that used these same biochemical building blocks.</p>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <!-- SPEC 2.8: Structure of Large Molecules -->
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon visual">üî¨</div>
                    <h3>Structure: From Small Units to Large Molecules</h3>
                    <span class="spec-ref">2.8</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>Think of LEGO:</strong> Large biological molecules are built by joining small building blocks together. Just like you can build a big LEGO model from small bricks!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Key Words to Remember</div>
                        <p class="mnemonic">Large molecules = "Polymers" | Small units = "Monomers"</p>
                        <p class="explanation">"Poly" means many, "mono" means one. So a polymer is made of many monomers joined together!</p>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr><th>Large Molecule</th><th>Building Blocks</th><th>Example Foods</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>üçû Starch</td><td>Simple sugars (glucose)</td><td>Bread, pasta, potatoes</td></tr>
                            <tr><td>ü•© Proteins</td><td>Amino acids</td><td>Meat, fish, eggs, beans</td></tr>
                            <tr><td>üßà Lipids (fats)</td><td>Fatty acids + Glycerol</td><td>Butter, oil, cheese</td></tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>üéØ Remember:</strong> Starch and glycogen are both made from glucose, but starch is in plants and glycogen is in animals!
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> What are proteins made from?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Simple sugars</div>
                            <div class="quiz-option" data-correct="true">Amino acids</div>
                            <div class="quiz-option" data-correct="false">Fatty acids</div>
                            <div class="quiz-option" data-correct="false">Glucose</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> Starch is made by joining many _____ molecules together.</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Amino acid</div>
                            <div class="quiz-option" data-correct="false">Fatty acid</div>
                            <div class="quiz-option" data-correct="true">Glucose</div>
                            <div class="quiz-option" data-correct="false">Glycerol</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> Lipids are made from fatty acids and...</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glucose</div>
                            <div class="quiz-option" data-correct="false">Amino acids</div>
                            <div class="quiz-option" data-correct="true">Glycerol</div>
                            <div class="quiz-option" data-correct="false">Starch</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Starch is made from glucose molecules.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Proteins are made from fatty acids.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Glycogen is the animal version of starch.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">A lipid molecule contains glycerol.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences (use the word bank):</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">amino acids</span>
                            <span class="word-bank-item">simple sugars</span>
                            <span class="word-bank-item">fatty acids</span>
                            <span class="word-bank-item">glycerol</span>
                            <span class="word-bank-item">glucose</span>
                        </div>
                        <p class="fill-blank-text">
                            1. Proteins are made from <input type="text" class="blank-input" data-answer="amino acids"> joined together.<br><br>
                            2. Starch is made from many <input type="text" class="blank-input" data-answer="glucose"> molecules.<br><br>
                            3. Lipids are made from <input type="text" class="blank-input" data-answer="fatty acids"> and <input type="text" class="blank-input" data-answer="glycerol">.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- MATCHING -->
                    <div class="matching-exercise">
                        <h4>üîó Match the large molecule to its building blocks:</h4>
                        <div class="matching-pairs">
                            <div class="match-item left">Starch</div>
                            <select class="match-select" data-correct="glucose">
                                <option value="">Select...</option>
                                <option value="glucose">Glucose</option>
                                <option value="amino">Amino acids</option>
                                <option value="fatty">Fatty acids + glycerol</option>
                            </select>
                            <div class="match-item">Used for energy</div>
                            
                            <div class="match-item left">Protein</div>
                            <select class="match-select" data-correct="amino">
                                <option value="">Select...</option>
                                <option value="glucose">Glucose</option>
                                <option value="amino">Amino acids</option>
                                <option value="fatty">Fatty acids + glycerol</option>
                            </select>
                            <div class="match-item">Used for growth</div>
                            
                            <div class="match-item left">Lipid</div>
                            <select class="match-select" data-correct="fatty">
                                <option value="">Select...</option>
                                <option value="glucose">Glucose</option>
                                <option value="amino">Amino acids</option>
                                <option value="fatty">Fatty acids + glycerol</option>
                            </select>
                            <div class="match-item">Used for insulation</div>
                        </div>
                        <button class="btn btn-primary" onclick="checkMatching(this)" style="margin-top: 1rem;">Check Matches</button>
                    </div>

                    <!-- DIAGRAM -->
                    <div class="diagram-container">
                        <svg viewBox="0 0 500 200" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <text x="250" y="20" fill="#f0f4f8" font-size="14" font-weight="600" text-anchor="middle">HOW LARGE MOLECULES ARE BUILT</text>
                            
                            <!-- Glucose to Starch -->
                            <g transform="translate(20, 50)">
                                <rect x="0" y="0" width="40" height="40" rx="5" fill="#22c55e" opacity="0.5"/>
                                <text x="20" y="25" fill="white" font-size="10" text-anchor="middle">G</text>
                                <text x="50" y="25" fill="#94a3b8" font-size="16">+</text>
                                <rect x="60" y="0" width="40" height="40" rx="5" fill="#22c55e" opacity="0.5"/>
                                <text x="80" y="25" fill="white" font-size="10" text-anchor="middle">G</text>
                                <text x="110" y="25" fill="#94a3b8" font-size="16">+</text>
                                <rect x="120" y="0" width="40" height="40" rx="5" fill="#22c55e" opacity="0.5"/>
                                <text x="140" y="25" fill="white" font-size="10" text-anchor="middle">G</text>
                                <text x="170" y="25" fill="#94a3b8" font-size="12">...</text>
                                <path d="M190 20 L220 20" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrow1)"/>
                                <rect x="230" y="-10" width="100" height="60" rx="8" fill="#22c55e" opacity="0.3" stroke="#22c55e" stroke-width="2"/>
                                <text x="280" y="25" fill="#22c55e" font-size="12" text-anchor="middle" font-weight="600">STARCH</text>
                            </g>
                            <text x="280" y="120" fill="#94a3b8" font-size="10" text-anchor="middle">G = Glucose (simple sugar)</text>
                            
                            <!-- Key -->
                            <rect x="350" y="50" width="130" height="90" rx="8" fill="#1a2744" stroke="#334155"/>
                            <text x="415" y="75" fill="#f0f4f8" font-size="11" text-anchor="middle" font-weight="600">KEY</text>
                            <text x="360" y="95" fill="#22c55e" font-size="10">üçû Glucose ‚Üí Starch</text>
                            <text x="360" y="115" fill="#3b82f6" font-size="10">ü•© Amino acids ‚Üí Protein</text>
                            <text x="360" y="135" fill="#f59e0b" font-size="10">üßà Fatty acids ‚Üí Lipids</text>
                            
                            <defs>
                                <marker id="arrow1" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
                                </marker>
                            </defs>
                        </svg>
                        <p class="diagram-caption">Small building blocks join together to make large molecules</p>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint: Test Yourself!</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> What are the building blocks of proteins called?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Amino acids</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> What two things make up a lipid molecule?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Fatty acids and glycerol</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q3:</strong> What is the difference between starch and glycogen?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Starch is found in plants, glycogen is found in animals. Both are made from glucose.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>Large biological molecules are <strong>polymers</strong> - chains of smaller repeating units called <strong>monomers</strong>.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Polymer</th><th>Monomers</th><th>Found In</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Starch</td><td>Glucose</td><td>Plants (energy storage)</td></tr>
                            <tr><td>Glycogen</td><td>Glucose</td><td>Animals (liver, muscles)</td></tr>
                            <tr><td>Proteins</td><td>Amino acids</td><td>All living cells</td></tr>
                            <tr><td>Lipids (triglycerides)</td><td>3 fatty acids + 1 glycerol</td><td>Cell membranes, fat stores</td></tr>
                        </tbody>
                    </table>

                    <div class="definition-box">
                        <p class="term">Condensation Reaction</p>
                        <p class="definition">A chemical reaction that joins monomers together, releasing a molecule of water each time a bond forms.</p>
                    </div>

                    <div class="definition-box">
                        <p class="term">Hydrolysis Reaction</p>
                        <p class="definition">The reverse of condensation - water is added to break bonds and split polymers into monomers. This happens during digestion.</p>
                    </div>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Monomer of starch:</span>
                            <input type="text" class="quick-fire-input" data-answer="glucose">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Monomer of proteins:</span>
                            <input type="text" class="quick-fire-input" data-answer="amino acids">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Where is glycogen stored?</span>
                            <input type="text" class="quick-fire-input" data-answer="liver" placeholder="Main organ">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Reaction that joins monomers:</span>
                            <input type="text" class="quick-fire-input" data-answer="condensation">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- QUIZZES -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì During a condensation reaction, what is released when two monomers join?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Carbon dioxide</div>
                            <div class="quiz-option" data-correct="true">Water</div>
                            <div class="quiz-option" data-correct="false">Oxygen</div>
                            <div class="quiz-option" data-correct="false">Energy</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Which statement about hydrolysis is correct?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">It joins monomers together</div>
                            <div class="quiz-option" data-correct="true">It uses water to break bonds</div>
                            <div class="quiz-option" data-correct="false">It releases water</div>
                            <div class="quiz-option" data-correct="false">It only happens in plants</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 3 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Describe how starch molecules are formed from glucose.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>Many glucose molecules join together (1)</li>
                                        <li>By condensation reactions (1)</li>
                                        <li>Water is released/removed for each bond formed (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CHECKPOINT -->
                    <div class="section-checkpoint core">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Core Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> Explain the difference between condensation and hydrolysis reactions.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Condensation reactions join monomers together to form polymers, releasing water. Hydrolysis reactions break polymers apart into monomers, using water. They are opposite reactions - condensation builds up molecules while hydrolysis breaks them down.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== EXTENDED PATHWAY ===== -->
                <div data-show-path="extended">
                    
                    <p>The type of bond formed depends on which monomers are joining together.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Polymer</th><th>Monomers</th><th>Bond Type</th><th>Structural Features</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Starch (amylose)</td><td>Œ±-glucose</td><td>Glycosidic (1-4)</td><td>Unbranched helix</td></tr>
                            <tr><td>Starch (amylopectin)</td><td>Œ±-glucose</td><td>Glycosidic (1-4, 1-6)</td><td>Branched</td></tr>
                            <tr><td>Glycogen</td><td>Œ±-glucose</td><td>Glycosidic (1-4, 1-6)</td><td>Highly branched</td></tr>
                            <tr><td>Proteins</td><td>20 amino acids</td><td>Peptide</td><td>Folds into 3D shapes</td></tr>
                            <tr><td>Triglycerides</td><td>1 glycerol + 3 fatty acids</td><td>Ester</td><td>Long hydrocarbon tails</td></tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>Structure-Function Link:</strong> Glycogen is more branched than starch because animals need to release glucose quickly during activity. More branches = more ends for enzymes to work on = faster glucose release.
                    </div>

                    <!-- QUIZZES -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Why is glycogen more branched than starch?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Plants need more glucose than animals</div>
                            <div class="quiz-option" data-correct="true">Animals need faster glucose release during activity</div>
                            <div class="quiz-option" data-correct="false">Branching makes storage more efficient</div>
                            <div class="quiz-option" data-correct="false">Branches contain more energy</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì What type of bond joins amino acids together in proteins?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glycosidic bond</div>
                            <div class="quiz-option" data-correct="true">Peptide bond</div>
                            <div class="quiz-option" data-correct="false">Ester bond</div>
                            <div class="quiz-option" data-correct="false">Hydrogen bond</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 4 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Compare the structure of amylose and glycogen and explain how their structures relate to their functions.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Both made from Œ±-glucose / joined by glycosidic bonds (1)</li>
                                        <li>Amylose is unbranched helix / glycogen is highly branched (1)</li>
                                        <li>Branching in glycogen provides more end points for enzyme action (1)</li>
                                        <li>Allows faster glucose release for animal metabolism/activity (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CHALLENGE PATHWAY ===== -->
                <div data-show-path="challenge">
                    
                    <p>The structural diversity of biological molecules reflects their evolutionary optimisation for specific functions.</p>

                    <div class="key-point">
                        <strong>Protein diversity:</strong> With 20 different amino acids and the ability to form chains of any length, the number of possible protein sequences is astronomical. A protein of just 100 amino acids has 20¬π‚Å∞‚Å∞ possible sequences - more than atoms in the observable universe!
                    </div>

                    <!-- 6 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> Compare the structure and function of starch and glycogen as energy storage molecules. Explain how their structural differences relate to the metabolic needs of plants and animals.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Both made from Œ±-glucose monomers joined by glycosidic bonds (1)</li>
                                        <li>Starch: amylose (unbranched helix) + amylopectin (slightly branched) (1)</li>
                                        <li>Glycogen is highly branched with many terminal glucose molecules (1)</li>
                                        <li>Animals have higher metabolic rates / need rapid glucose release during activity (1)</li>
                                        <li>More branches = more ends where enzymes can act simultaneously (1)</li>
                                        <li>Plants don't need rapid glucose release as they don't move / have lower metabolic demands (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- EVALUATION QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Evaluation Question (6 marks):</strong> Evaluate the statement: "The diversity of protein functions is due to the diversity of amino acid sequences."</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Statement is largely correct - sequence determines primary structure (1)</li>
                                        <li>20 different amino acids allow huge variety of sequences (1)</li>
                                        <li>However, function also depends on how protein folds (tertiary structure) (1)</li>
                                        <li>Same sequence can fold differently in different conditions (1)</li>
                                        <li>Post-translational modifications also affect function (1)</li>
                                        <li>Interactions with other molecules/proteins contribute to function (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </section>

        <!-- ==================== TOPIC 2: FOOD TESTS ==================== -->
        <section class="topic-content" data-topic="food-tests">
            
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon practice">üß™</div>
                    <h3>Food Tests Practical</h3>
                    <span class="spec-ref">2.9</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>What you need to know:</strong> There are 4 food tests you must learn. For each one, remember the reagent (chemical used) and the colour change that shows a positive result!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Memory Tricks for Colour Changes</div>
                        <p class="mnemonic">"Benedict's goes Brick red for sugar"</p>
                        <p class="mnemonic">"Iodine turns Inky black-blue for starch"</p>
                        <p class="mnemonic">"Biuret goes Blue to Purple for Protein"</p>
                        <p class="mnemonic">"Emulsion test = milky white for fat"</p>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr><th>Test For</th><th>Reagent Used</th><th>Positive Result</th><th>Negative Result</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>üç¨ <strong>Reducing sugars</strong> (glucose)</td>
                                <td>Benedict's solution + heat</td>
                                <td style="color: #ef4444;">Brick red/orange</td>
                                <td>Stays blue</td>
                            </tr>
                            <tr>
                                <td>üçû <strong>Starch</strong></td>
                                <td>Iodine solution</td>
                                <td style="color: #1e40af;">Blue-black</td>
                                <td>Stays orange-brown</td>
                            </tr>
                            <tr>
                                <td>ü•© <strong>Protein</strong></td>
                                <td>Biuret reagent</td>
                                <td style="color: #7c3aed;">Purple/lilac</td>
                                <td>Stays blue</td>
                            </tr>
                            <tr>
                                <td>üßà <strong>Lipids (fats)</strong></td>
                                <td>Ethanol + water</td>
                                <td>Cloudy white emulsion</td>
                                <td>Stays clear</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>üéØ Exam Essential:</strong> Benedict's test needs HEAT! If you forget to mention heating, you'll lose the mark.
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> What colour does Benedict's solution turn when glucose is present?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Blue-black</div>
                            <div class="quiz-option" data-correct="true">Brick red/orange</div>
                            <div class="quiz-option" data-correct="false">Purple</div>
                            <div class="quiz-option" data-correct="false">Cloudy white</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> Which test requires heating?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">Benedict's test for reducing sugars</div>
                            <div class="quiz-option" data-correct="false">Iodine test for starch</div>
                            <div class="quiz-option" data-correct="false">Biuret test for protein</div>
                            <div class="quiz-option" data-correct="false">Emulsion test for lipids</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> What does iodine solution test for?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glucose</div>
                            <div class="quiz-option" data-correct="false">Protein</div>
                            <div class="quiz-option" data-correct="true">Starch</div>
                            <div class="quiz-option" data-correct="false">Fat</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 4 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 4:</strong> A Biuret test turns purple. What food molecule is present?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Starch</div>
                            <div class="quiz-option" data-correct="false">Glucose</div>
                            <div class="quiz-option" data-correct="true">Protein</div>
                            <div class="quiz-option" data-correct="false">Lipid</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Benedict's test requires heating in a water bath.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Iodine turns red when starch is present.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">The emulsion test uses ethanol.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Biuret reagent turns orange for protein.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- MATCHING -->
                    <div class="matching-exercise">
                        <h4>üîó Match each test to the correct positive result:</h4>
                        <div class="matching-pairs">
                            <div class="match-item left">Benedict's test</div>
                            <select class="match-select" data-correct="red">
                                <option value="">Select colour...</option>
                                <option value="red">Brick red/orange</option>
                                <option value="black">Blue-black</option>
                                <option value="purple">Purple</option>
                                <option value="white">Cloudy white</option>
                            </select>
                            <div class="match-item">Tests for glucose</div>
                            
                            <div class="match-item left">Iodine test</div>
                            <select class="match-select" data-correct="black">
                                <option value="">Select colour...</option>
                                <option value="red">Brick red/orange</option>
                                <option value="black">Blue-black</option>
                                <option value="purple">Purple</option>
                                <option value="white">Cloudy white</option>
                            </select>
                            <div class="match-item">Tests for starch</div>
                            
                            <div class="match-item left">Biuret test</div>
                            <select class="match-select" data-correct="purple">
                                <option value="">Select colour...</option>
                                <option value="red">Brick red/orange</option>
                                <option value="black">Blue-black</option>
                                <option value="purple">Purple</option>
                                <option value="white">Cloudy white</option>
                            </select>
                            <div class="match-item">Tests for protein</div>
                            
                            <div class="match-item left">Emulsion test</div>
                            <select class="match-select" data-correct="white">
                                <option value="">Select colour...</option>
                                <option value="red">Brick red/orange</option>
                                <option value="black">Blue-black</option>
                                <option value="purple">Purple</option>
                                <option value="white">Cloudy white</option>
                            </select>
                            <div class="match-item">Tests for lipids</div>
                        </div>
                        <button class="btn btn-primary" onclick="checkMatching(this)" style="margin-top: 1rem;">Check Matches</button>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences (use the word bank):</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">Benedict's</span>
                            <span class="word-bank-item">iodine</span>
                            <span class="word-bank-item">Biuret</span>
                            <span class="word-bank-item">ethanol</span>
                            <span class="word-bank-item">heated</span>
                            <span class="word-bank-item">blue-black</span>
                            <span class="word-bank-item">brick red</span>
                        </div>
                        <p class="fill-blank-text">
                            1. To test for glucose, add <input type="text" class="blank-input" data-answer="Benedict's"> solution and heat. A positive result is <input type="text" class="blank-input" data-answer="brick red">.<br><br>
                            2. To test for starch, add <input type="text" class="blank-input" data-answer="iodine"> solution. A positive result is <input type="text" class="blank-input" data-answer="blue-black">.<br><br>
                            3. To test for protein, add <input type="text" class="blank-input" data-answer="Biuret"> reagent. No heating is needed.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- PRACTICAL METHOD -->
                    <div class="practical-box">
                        <div class="header">üî¨ Benedict's Test Method (step by step)</div>
                        <div class="steps">
                            <div class="step">Add food sample to a test tube</div>
                            <div class="step">Add Benedict's solution (blue colour)</div>
                            <div class="step">Heat in a water bath for 2-3 minutes</div>
                            <div class="step">Observe colour change</div>
                            <div class="step">Positive = brick red/orange | Negative = stays blue</div>
                        </div>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint: Can you recall all 4 tests?</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> A student tests a food sample and it turns blue-black. What molecule is present and what test was used?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Starch is present. The iodine test was used.</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> How would you test if milk contains protein?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Add Biuret reagent to the milk. If protein is present, it will turn purple/lilac.</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q3:</strong> Why must Benedict's test be heated?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>The reaction requires heat energy to work. Without heating, the colour change won't happen even if glucose is present.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Continue with Core, Extended, Challenge pathways... -->
                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>Food tests allow us to identify the presence of specific nutrients. Each test uses a specific reagent that changes colour in the presence of the target molecule.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Nutrient</th><th>Reagent</th><th>Method</th><th>Positive Result</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Reducing sugars</td><td>Benedict's</td><td>Add reagent, heat in water bath</td><td>Blue ‚Üí brick red/orange</td></tr>
                            <tr><td>Starch</td><td>Iodine</td><td>Add drops of iodine solution</td><td>Orange-brown ‚Üí blue-black</td></tr>
                            <tr><td>Protein</td><td>Biuret</td><td>Add reagent (no heating)</td><td>Blue ‚Üí purple/lilac</td></tr>
                            <tr><td>Lipids</td><td>Ethanol + water</td><td>Dissolve in ethanol, add water</td><td>Cloudy white emulsion</td></tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <div class="title">‚ö†Ô∏è Exam Tip</div>
                        <p>For Benedict's test, the colour change is gradual: blue ‚Üí green ‚Üí yellow ‚Üí orange ‚Üí brick red. More sugar = more red!</p>
                    </div>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Reagent for starch:</span>
                            <input type="text" class="quick-fire-input" data-answer="iodine">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Positive result for protein test:</span>
                            <input type="text" class="quick-fire-input" data-answer="purple">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Test that requires heating:</span>
                            <input type="text" class="quick-fire-input" data-answer="Benedict's">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Reagent for lipid test:</span>
                            <input type="text" class="quick-fire-input" data-answer="ethanol">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- QUIZZES -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì A student tests a solution with Benedict's reagent. After heating, it turns green. What does this indicate?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">No sugar present</div>
                            <div class="quiz-option" data-correct="true">A small amount of reducing sugar is present</div>
                            <div class="quiz-option" data-correct="false">A large amount of reducing sugar is present</div>
                            <div class="quiz-option" data-correct="false">Starch is present</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Why does the emulsion test not require heating?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Lipids are destroyed by heat</div>
                            <div class="quiz-option" data-correct="true">Lipids dissolve in ethanol at room temperature</div>
                            <div class="quiz-option" data-correct="false">The colour change only works when cold</div>
                            <div class="quiz-option" data-correct="false">Ethanol evaporates when heated</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 3 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Describe how you would test a food sample for the presence of starch.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>Add iodine solution to the food sample (1)</li>
                                        <li>If starch is present, the colour changes from orange-brown (1)</li>
                                        <li>To blue-black (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CHECKPOINT -->
                    <div class="section-checkpoint core">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Core Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> A student performs Benedict's test and the solution stays blue. What conclusions can be drawn?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>No reducing sugar (glucose) is present in the sample. The test is negative. However, non-reducing sugars like sucrose might still be present - these would require further testing with acid hydrolysis.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Extended and Challenge pathways abbreviated for space -->
                <div data-show-path="extended">
                    <p>Understanding the chemistry behind food tests helps explain why they work.</p>
                    
                    <div class="key-point">
                        <strong>Benedict's test chemistry:</strong> Reducing sugars (like glucose) have a free aldehyde or ketone group that can donate electrons. When heated with copper(II) sulfate (blue), these electrons reduce Cu¬≤‚Å∫ to Cu‚Å∫, forming insoluble copper(I) oxide (brick red precipitate).
                    </div>

                    <div class="key-point">
                        <strong>Iodine test chemistry:</strong> Iodine molecules (I‚ÇÇ) become trapped inside the helical structure of amylose (a component of starch). This trapping changes the light absorption properties, producing the characteristic blue-black colour.
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Why does iodine turn blue-black with starch but not with glucose?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glucose is a reducing sugar</div>
                            <div class="quiz-option" data-correct="true">Starch has a helical structure that traps iodine molecules</div>
                            <div class="quiz-option" data-correct="false">Glucose breaks down the iodine</div>
                            <div class="quiz-option" data-correct="false">Starch is made of amino acids</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Explain the chemistry behind Benedict's test, including why heating is required.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Reducing sugars have free aldehyde/ketone groups (1)</li>
                                        <li>These reduce copper(II) ions to copper(I) ions (1)</li>
                                        <li>Copper(I) oxide precipitate is brick red/orange (1)</li>
                                        <li>Heating provides activation energy for the reduction reaction (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-show-path="challenge">
                    <p>At the highest level, you should be able to design experiments and evaluate their limitations.</p>

                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> A student wants to compare the sugar content of different fruit juices using Benedict's test. Design an experiment that would allow semi-quantitative comparison, and discuss the limitations of using Benedict's test for this purpose.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Use equal volumes of each juice sample (1)</li>
                                        <li>Add equal volumes of Benedict's solution (1)</li>
                                        <li>Heat for same time at same temperature (1)</li>
                                        <li>Compare final colours to a colour chart/standards (1)</li>
                                        <li>Limitation: only detects reducing sugars, not sucrose (1)</li>
                                        <li>Limitation: subjective colour comparison / not precise (1)</li>
                                        <li>Alternative: use colorimeter for quantitative measurement (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </section>

        <!-- ==================== TOPIC 3: ENZYMES ==================== -->
        <section class="topic-content" data-topic="enzymes">
            
            <!-- SPEC 2.10: Enzymes as Catalysts -->
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon learn">‚öóÔ∏è</div>
                    <h3>Enzymes as Biological Catalysts</h3>
                    <span class="spec-ref">2.10</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>What is an enzyme?</strong> Enzymes are special proteins that speed up chemical reactions in living things. Without enzymes, reactions would be too slow for life!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† The Lock and Key Model</div>
                        <p class="mnemonic">The enzyme is the LOCK, the substrate is the KEY</p>
                        <p class="explanation">Just like only the right key fits a lock, only the right substrate fits into an enzyme's active site. This is why enzymes are SPECIFIC - each enzyme only works on one type of molecule!</p>
                    </div>

                    <div class="definition-box">
                        <p class="term">Active Site</p>
                        <p class="definition">The special area on an enzyme where the substrate fits. It has a unique shape that only matches one substrate.</p>
                    </div>

                    <div class="definition-box">
                        <p class="term">Substrate</p>
                        <p class="definition">The molecule that the enzyme works on (the thing being broken down or joined together).</p>
                    </div>

                    <div class="key-point">
                        <strong>üéØ Key Exam Facts:</strong><br>
                        ‚Ä¢ Enzymes are biological catalysts<br>
                        ‚Ä¢ Enzymes speed up reactions without being used up<br>
                        ‚Ä¢ Enzymes are proteins<br>
                        ‚Ä¢ Enzymes are specific (one enzyme = one reaction)
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> What type of molecule are enzymes?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Carbohydrates</div>
                            <div class="quiz-option" data-correct="true">Proteins</div>
                            <div class="quiz-option" data-correct="false">Lipids</div>
                            <div class="quiz-option" data-correct="false">Vitamins</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> What is the name of the area where the substrate fits into an enzyme?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Lock site</div>
                            <div class="quiz-option" data-correct="true">Active site</div>
                            <div class="quiz-option" data-correct="false">Binding region</div>
                            <div class="quiz-option" data-correct="false">Reaction zone</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> Why are enzymes described as "specific"?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">They work very quickly</div>
                            <div class="quiz-option" data-correct="false">They are made of protein</div>
                            <div class="quiz-option" data-correct="true">Each enzyme only works on one type of substrate</div>
                            <div class="quiz-option" data-correct="false">They are found in all living things</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Enzymes speed up chemical reactions.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Enzymes are used up during reactions.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">The substrate fits into the active site.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">One enzyme can work on many different substrates.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences (use the word bank):</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">catalyst</span>
                            <span class="word-bank-item">active site</span>
                            <span class="word-bank-item">substrate</span>
                            <span class="word-bank-item">proteins</span>
                            <span class="word-bank-item">specific</span>
                        </div>
                        <p class="fill-blank-text">
                            1. Enzymes are biological <input type="text" class="blank-input" data-answer="catalyst">s that speed up reactions.<br><br>
                            2. All enzymes are made of <input type="text" class="blank-input" data-answer="proteins">.<br><br>
                            3. The molecule that an enzyme works on is called the <input type="text" class="blank-input" data-answer="substrate">.<br><br>
                            4. The substrate fits into the enzyme's <input type="text" class="blank-input" data-answer="active site">.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- MATCHING -->
                    <div class="matching-exercise">
                        <h4>üîó Match the terms to their meanings:</h4>
                        <div class="matching-pairs">
                            <div class="match-item left">Enzyme</div>
                            <select class="match-select" data-correct="catalyst">
                                <option value="">Select...</option>
                                <option value="catalyst">Biological catalyst (protein)</option>
                                <option value="substrate">Molecule being acted on</option>
                                <option value="active">Area where substrate fits</option>
                            </select>
                            <div class="match-item">Speeds up reactions</div>
                            
                            <div class="match-item left">Substrate</div>
                            <select class="match-select" data-correct="substrate">
                                <option value="">Select...</option>
                                <option value="catalyst">Biological catalyst (protein)</option>
                                <option value="substrate">Molecule being acted on</option>
                                <option value="active">Area where substrate fits</option>
                            </select>
                            <div class="match-item">Gets changed</div>
                            
                            <div class="match-item left">Active site</div>
                            <select class="match-select" data-correct="active">
                                <option value="">Select...</option>
                                <option value="catalyst">Biological catalyst (protein)</option>
                                <option value="substrate">Molecule being acted on</option>
                                <option value="active">Area where substrate fits</option>
                            </select>
                            <div class="match-item">Has specific shape</div>
                        </div>
                        <button class="btn btn-primary" onclick="checkMatching(this)" style="margin-top: 1rem;">Check Matches</button>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint: Can you answer these?</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> What is a catalyst?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>A catalyst is a substance that speeds up a chemical reaction without being used up itself.</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> Why do enzymes only work on one type of substrate?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>The active site has a specific shape that only matches one substrate shape - like a lock and key.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>Enzymes are <strong>biological catalysts</strong> - proteins that speed up metabolic reactions without being used up. Each enzyme has a specific 3D shape with an <strong>active site</strong> that only fits one substrate.</p>

                    <div class="key-point">
                        <strong>The Lock and Key Model:</strong><br>
                        ‚Ä¢ The enzyme's active site has a complementary shape to the substrate<br>
                        ‚Ä¢ Substrate binds to active site ‚Üí enzyme-substrate complex forms<br>
                        ‚Ä¢ Reaction occurs ‚Üí products released ‚Üí enzyme unchanged
                    </div>

                    <div class="exam-tip">
                        <div class="title">‚ö†Ô∏è Exam Tip</div>
                        <p>Use the word "complementary" not "same shape" when describing how substrate fits active site. The shapes fit together like jigsaw pieces.</p>
                    </div>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">What are enzymes made of?</span>
                            <input type="text" class="quick-fire-input" data-answer="protein">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Where does substrate bind?</span>
                            <input type="text" class="quick-fire-input" data-answer="active site">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">What forms when substrate binds?</span>
                            <input type="text" class="quick-fire-input" data-answer="enzyme-substrate complex">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Is the enzyme changed after reaction?</span>
                            <input type="text" class="quick-fire-input" data-answer="no">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- QUIZZES -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì What forms when a substrate binds to an enzyme?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">A product</div>
                            <div class="quiz-option" data-correct="true">An enzyme-substrate complex</div>
                            <div class="quiz-option" data-correct="false">A new enzyme</div>
                            <div class="quiz-option" data-correct="false">An active site</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Why can an enzyme catalyse the same reaction many times?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">It gets stronger each time</div>
                            <div class="quiz-option" data-correct="true">It is not used up/unchanged by the reaction</div>
                            <div class="quiz-option" data-correct="false">It is remade by the cell</div>
                            <div class="quiz-option" data-correct="false">The substrate repairs it</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 3 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Describe the lock and key model of enzyme action.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>Substrate has complementary shape to active site (1)</li>
                                        <li>Substrate binds to active site / forms enzyme-substrate complex (1)</li>
                                        <li>Products released / enzyme unchanged / can be reused (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== EXTENDED PATHWAY ===== -->
                <div data-show-path="extended">
                    
                    <p>Enzymes lower the <strong>activation energy</strong> required for reactions, allowing them to proceed at body temperature. The induced fit model provides a more accurate description than lock and key.</p>

                    <div class="key-point">
                        <strong>Induced Fit Model (more accurate):</strong><br>
                        ‚Ä¢ Active site shape changes slightly when substrate binds<br>
                        ‚Ä¢ Enzyme "moulds" around the substrate<br>
                        ‚Ä¢ This puts strain on bonds in substrate, helping the reaction<br>
                        ‚Ä¢ Explains why enzymes can have some flexibility
                    </div>

                    <div class="definition-box">
                        <p class="term">Activation Energy</p>
                        <p class="definition">The minimum energy required to start a chemical reaction. Enzymes lower this barrier, allowing reactions to occur faster at lower temperatures.</p>
                    </div>

                    <!-- QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì How do enzymes speed up reactions?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">By increasing temperature</div>
                            <div class="quiz-option" data-correct="true">By lowering activation energy</div>
                            <div class="quiz-option" data-correct="false">By providing energy to the reaction</div>
                            <div class="quiz-option" data-correct="false">By increasing substrate concentration</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 4 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Compare the lock and key model with the induced fit model of enzyme action.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Lock and key: active site is rigid/fixed shape (1)</li>
                                        <li>Induced fit: active site changes shape when substrate binds (1)</li>
                                        <li>Induced fit is more accurate / explains flexibility (1)</li>
                                        <li>Induced fit explains how binding can strain substrate bonds (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CHALLENGE PATHWAY ===== -->
                <div data-show-path="challenge">
                    
                    <p>At the highest level, consider how enzyme structure relates to function and how catalytic mechanisms work at the molecular level.</p>

                    <!-- 6 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> Explain how the tertiary structure of an enzyme is essential for its function, and discuss what happens when this structure is disrupted.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Tertiary structure = 3D folding of polypeptide chain (1)</li>
                                        <li>Creates the specific shape of the active site (1)</li>
                                        <li>Active site shape is complementary to substrate (1)</li>
                                        <li>Disruption (by heat/pH) = denaturation (1)</li>
                                        <li>Active site shape changes permanently (1)</li>
                                        <li>Substrate can no longer bind / enzyme loses function (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <!-- SPEC 2.11-2.13: Temperature and pH Effects -->
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon visual">üå°Ô∏è</div>
                    <h3>Effects of Temperature and pH on Enzymes</h3>
                    <span class="spec-ref">2.11-2.13</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>Key idea:</strong> Enzymes work best at their "favourite" temperature and pH. Too hot or too cold, too acidic or too alkaline - and they stop working!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Remember: Enzymes are like Goldilocks!</div>
                        <p class="mnemonic">Not too hot, not too cold, not too acidic, not too alkaline - JUST RIGHT!</p>
                        <p class="explanation">The "just right" conditions are called the OPTIMUM temperature and OPTIMUM pH.</p>
                    </div>

                    <div class="definition-box">
                        <p class="term">Optimum Temperature</p>
                        <p class="definition">The temperature at which an enzyme works fastest. For human enzymes, this is usually around 37¬∞C (body temperature).</p>
                    </div>

                    <div class="definition-box">
                        <p class="term">Denaturation</p>
                        <p class="definition">When an enzyme's shape is permanently changed (by too much heat or extreme pH), so the substrate no longer fits. The enzyme stops working forever!</p>
                    </div>

                    <div class="key-point">
                        <strong>üéØ What happens at different temperatures:</strong><br>
                        ü•∂ <strong>Too cold:</strong> Enzyme works slowly (molecules move slowly)<br>
                        ‚úÖ <strong>Optimum (37¬∞C):</strong> Enzyme works fastest<br>
                        üî• <strong>Too hot:</strong> Enzyme denatures - shape changes permanently, stops working
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> What is the optimum temperature for most human enzymes?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">25¬∞C</div>
                            <div class="quiz-option" data-correct="true">37¬∞C</div>
                            <div class="quiz-option" data-correct="false">50¬∞C</div>
                            <div class="quiz-option" data-correct="false">100¬∞C</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> What happens to an enzyme when it denatures?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">It works faster</div>
                            <div class="quiz-option" data-correct="false">It divides into two enzymes</div>
                            <div class="quiz-option" data-correct="true">Its shape changes and it stops working</div>
                            <div class="quiz-option" data-correct="false">It becomes stronger</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> Why do enzymes work slowly at low temperatures?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">The enzyme is frozen solid</div>
                            <div class="quiz-option" data-correct="true">Molecules move slowly so fewer collisions occur</div>
                            <div class="quiz-option" data-correct="false">The enzyme has denatured</div>
                            <div class="quiz-option" data-correct="false">The substrate disappears</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 4 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 4:</strong> Pepsin (stomach enzyme) works best at pH 2. What type of conditions does it prefer?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">Acidic</div>
                            <div class="quiz-option" data-correct="false">Neutral</div>
                            <div class="quiz-option" data-correct="false">Alkaline</div>
                            <div class="quiz-option" data-correct="false">Basic</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">All enzymes work best at pH 7.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Denaturation is permanent - the enzyme cannot recover.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Higher temperature increases enzyme activity until the optimum.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Enzymes work faster when they are denatured.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences:</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">optimum</span>
                            <span class="word-bank-item">denatures</span>
                            <span class="word-bank-item">37¬∞C</span>
                            <span class="word-bank-item">active site</span>
                            <span class="word-bank-item">slowly</span>
                        </div>
                        <p class="fill-blank-text">
                            1. The temperature at which an enzyme works best is called the <input type="text" class="blank-input" data-answer="optimum"> temperature.<br><br>
                            2. Most human enzymes work best at <input type="text" class="blank-input" data-answer="37¬∞C">.<br><br>
                            3. At low temperatures, enzymes work <input type="text" class="blank-input" data-answer="slowly">.<br><br>
                            4. When an enzyme <input type="text" class="blank-input" data-answer="denatures">, its <input type="text" class="blank-input" data-answer="active site"> changes shape.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint: Test Yourself!</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> What does "optimum" mean when talking about enzymes?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Optimum means the best or ideal conditions where the enzyme works fastest.</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> Why can't a denatured enzyme work anymore?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>The active site has changed shape permanently, so the substrate can no longer fit into it.</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q3:</strong> Why does enzyme activity increase as temperature rises (before the optimum)?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Higher temperature gives molecules more kinetic energy, so they move faster and collide more often. More collisions between enzyme and substrate means more reactions.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>Enzyme activity is affected by temperature and pH. Each enzyme has an optimum where it works fastest.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Condition</th><th>Effect on Enzyme Activity</th><th>Explanation</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Low temperature</td><td>Slow activity</td><td>Less kinetic energy, fewer collisions</td></tr>
                            <tr><td>Optimum temperature</td><td>Maximum activity</td><td>Maximum collision rate, enzyme intact</td></tr>
                            <tr><td>High temperature</td><td>Activity drops to zero</td><td>Enzyme denatures, active site changes shape</td></tr>
                            <tr><td>Extreme pH</td><td>Activity drops</td><td>Enzyme denatures, active site changes shape</td></tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <div class="title">‚ö†Ô∏è Exam Tip</div>
                        <p>Different enzymes have different optimum pH values:<br>
                        ‚Ä¢ Pepsin (stomach): pH 2 (acidic)<br>
                        ‚Ä¢ Salivary amylase: pH 7 (neutral)<br>
                        ‚Ä¢ Pancreatic enzymes: pH 8-9 (alkaline)</p>
                    </div>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Optimum temp for human enzymes:</span>
                            <input type="text" class="quick-fire-input" data-answer="37">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">What happens above optimum temp:</span>
                            <input type="text" class="quick-fire-input" data-answer="denatures">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Optimum pH for pepsin:</span>
                            <input type="text" class="quick-fire-input" data-answer="2">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Why activity increases with temp (before optimum):</span>
                            <input type="text" class="quick-fire-input" data-answer="more collisions">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì A graph of enzyme activity against temperature shows a peak at 40¬∞C. What can you conclude?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">The enzyme is denatured at 40¬∞C</div>
                            <div class="quiz-option" data-correct="true">The optimum temperature is 40¬∞C</div>
                            <div class="quiz-option" data-correct="false">The enzyme only works at 40¬∞C</div>
                            <div class="quiz-option" data-correct="false">The enzyme works best at low temperatures</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 3 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Explain why enzyme activity decreases at temperatures above the optimum.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>High temperature causes enzyme to denature (1)</li>
                                        <li>The active site changes shape (1)</li>
                                        <li>Substrate can no longer fit / no enzyme-substrate complex forms (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- CHECKPOINT -->
                    <div class="section-checkpoint core">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Core Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> Describe how you would investigate the effect of temperature on enzyme activity.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Set up water baths at different temperatures (e.g., 20, 30, 40, 50, 60¬∞C). Add enzyme and substrate to test tubes and place in each water bath. Time how long it takes for the reaction to complete (e.g., starch to disappear using iodine test). Repeat at each temperature. Plot a graph of reaction rate against temperature.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== EXTENDED PATHWAY ===== -->
                <div data-show-path="extended">
                    
                    <p>The relationship between temperature and enzyme activity can be explained using collision theory and molecular interactions.</p>

                    <div class="key-point">
                        <strong>Q‚ÇÅ‚ÇÄ Coefficient:</strong> For every 10¬∞C rise in temperature, the rate of enzyme-catalysed reactions approximately doubles (until the optimum). This is because molecules have more kinetic energy and collide more frequently.
                    </div>

                    <div class="key-point">
                        <strong>Molecular explanation of denaturation:</strong><br>
                        ‚Ä¢ High temperatures break hydrogen bonds and ionic bonds in the enzyme<br>
                        ‚Ä¢ These bonds maintain the tertiary structure (3D shape)<br>
                        ‚Ä¢ When broken, the active site loses its specific shape<br>
                        ‚Ä¢ This is usually irreversible
                    </div>

                    <!-- QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Which bonds are broken during denaturation?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Peptide bonds</div>
                            <div class="quiz-option" data-correct="true">Hydrogen bonds and ionic bonds</div>
                            <div class="quiz-option" data-correct="false">Glycosidic bonds</div>
                            <div class="quiz-option" data-correct="false">Ester bonds</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- 4 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Explain the effect of pH on enzyme activity at the molecular level.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>pH affects the ionisation of amino acid R groups (1)</li>
                                        <li>This affects ionic bonds / hydrogen bonds holding the tertiary structure (1)</li>
                                        <li>At extreme pH, these bonds break (1)</li>
                                        <li>Active site shape changes / enzyme denatures (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CHALLENGE PATHWAY ===== -->
                <div data-show-path="challenge">
                    
                    <!-- 6 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> A student investigated the effect of temperature on amylase activity. The results showed maximum activity at 37¬∞C, but some activity remained at 60¬∞C. Explain these results and evaluate the experimental design.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>37¬∞C is the optimum temperature for human amylase (1)</li>
                                        <li>Activity remaining at 60¬∞C suggests not all enzyme denatured (1)</li>
                                        <li>Denaturation is a gradual process / some molecules denature before others (1)</li>
                                        <li>Possible error: enzyme may not have equilibrated to water bath temperature (1)</li>
                                        <li>Improvement: allow time for temperature equilibration before mixing (1)</li>
                                        <li>Should control pH / substrate concentration / enzyme concentration (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SYNOPTIC QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Synoptic Question (6 marks):</strong> Explain why bacteria living in hot springs have enzymes with different temperature optima compared to human enzymes, and discuss the implications for biotechnology.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Hot spring bacteria have evolved / adapted to high temperatures (1)</li>
                                        <li>Their enzymes have more stable tertiary structures (1)</li>
                                        <li>Stronger bonds (e.g., more disulfide bridges) resist denaturation (1)</li>
                                        <li>These enzymes are useful in industrial processes requiring high temperatures (1)</li>
                                        <li>Example: Taq polymerase used in PCR (1)</li>
                                        <li>High temperatures can kill contaminating bacteria / speed up reactions (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </section>

        <!-- ==================== TOPIC 4: BALANCED DIET ==================== -->
        <section class="topic-content" data-topic="diet">
            
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon visual">ü•ó</div>
                    <h3>Components of a Balanced Diet</h3>
                    <span class="spec-ref">2.24-2.25</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>What is a balanced diet?</strong> A diet that contains all the nutrients your body needs in the right amounts. There are 7 things you need to remember!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Memory Trick: "CAMP VWF"</div>
                        <p class="mnemonic">C-arbs, A-mino acids (protein), M-inerals, P-roteins... V-itamins, W-ater, F-ats (lipids)</p>
                        <p class="explanation">Or try: "Come And Meet Paul's Very Weird Family" = Carbs, And, Minerals, Proteins, Vitamins, Water, Fats</p>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr><th>Nutrient</th><th>Function</th><th>Good Sources</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>üçû Carbohydrates</td><td>Energy</td><td>Bread, pasta, rice, potatoes</td></tr>
                            <tr><td>ü•© Proteins</td><td>Growth and repair</td><td>Meat, fish, eggs, beans</td></tr>
                            <tr><td>üßà Lipids (fats)</td><td>Energy, insulation, cell membranes</td><td>Butter, oil, cheese, nuts</td></tr>
                            <tr><td>üíä Vitamins</td><td>Keep body working properly</td><td>Fruits, vegetables</td></tr>
                            <tr><td>ÔøΩiteü™® Minerals</td><td>Various (bones, blood, etc.)</td><td>Meat, vegetables, dairy</td></tr>
                            <tr><td>üíß Water</td><td>All chemical reactions</td><td>Drinks, foods</td></tr>
                            <tr><td>üåæ Fibre</td><td>Helps food move through gut</td><td>Wholegrain, fruit, vegetables</td></tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>üéØ Important vitamins and minerals to know:</strong><br>
                        ‚Ä¢ <strong>Vitamin C:</strong> Healthy skin, prevents scurvy<br>
                        ‚Ä¢ <strong>Vitamin D:</strong> Strong bones, works with calcium<br>
                        ‚Ä¢ <strong>Calcium:</strong> Strong bones and teeth<br>
                        ‚Ä¢ <strong>Iron:</strong> Makes haemoglobin (red blood cells)
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> What is the main function of carbohydrates?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Growth and repair</div>
                            <div class="quiz-option" data-correct="true">To provide energy</div>
                            <div class="quiz-option" data-correct="false">To make haemoglobin</div>
                            <div class="quiz-option" data-correct="false">To strengthen bones</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> What is the main function of protein?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">Growth and repair</div>
                            <div class="quiz-option" data-correct="false">To provide energy</div>
                            <div class="quiz-option" data-correct="false">To prevent scurvy</div>
                            <div class="quiz-option" data-correct="false">To help digestion</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> Which mineral is needed to make haemoglobin?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Calcium</div>
                            <div class="quiz-option" data-correct="true">Iron</div>
                            <div class="quiz-option" data-correct="false">Sodium</div>
                            <div class="quiz-option" data-correct="false">Potassium</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 4 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 4:</strong> What disease is caused by lack of vitamin C?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Rickets</div>
                            <div class="quiz-option" data-correct="false">Anaemia</div>
                            <div class="quiz-option" data-correct="true">Scurvy</div>
                            <div class="quiz-option" data-correct="false">Kwashiorkor</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Calcium is needed for strong bones and teeth.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Fibre provides energy for the body.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Lack of iron causes anaemia.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Water is needed for chemical reactions in the body.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- MATCHING -->
                    <div class="matching-exercise">
                        <h4>üîó Match each deficiency to its disease:</h4>
                        <div class="matching-pairs">
                            <div class="match-item left">Lack of Vitamin C</div>
                            <select class="match-select" data-correct="scurvy">
                                <option value="">Select disease...</option>
                                <option value="scurvy">Scurvy</option>
                                <option value="rickets">Rickets</option>
                                <option value="anaemia">Anaemia</option>
                            </select>
                            <div class="match-item">Bleeding gums</div>
                            
                            <div class="match-item left">Lack of Vitamin D</div>
                            <select class="match-select" data-correct="rickets">
                                <option value="">Select disease...</option>
                                <option value="scurvy">Scurvy</option>
                                <option value="rickets">Rickets</option>
                                <option value="anaemia">Anaemia</option>
                            </select>
                            <div class="match-item">Soft bones</div>
                            
                            <div class="match-item left">Lack of Iron</div>
                            <select class="match-select" data-correct="anaemia">
                                <option value="">Select disease...</option>
                                <option value="scurvy">Scurvy</option>
                                <option value="rickets">Rickets</option>
                                <option value="anaemia">Anaemia</option>
                            </select>
                            <div class="match-item">Tiredness</div>
                        </div>
                        <button class="btn btn-primary" onclick="checkMatching(this)" style="margin-top: 1rem;">Check Matches</button>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences:</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">energy</span>
                            <span class="word-bank-item">growth</span>
                            <span class="word-bank-item">iron</span>
                            <span class="word-bank-item">calcium</span>
                            <span class="word-bank-item">fibre</span>
                            <span class="word-bank-item">vitamin D</span>
                        </div>
                        <p class="fill-blank-text">
                            1. Carbohydrates and lipids provide <input type="text" class="blank-input" data-answer="energy">.<br><br>
                            2. Proteins are needed for <input type="text" class="blank-input" data-answer="growth"> and repair.<br><br>
                            3. <input type="text" class="blank-input" data-answer="calcium"> and <input type="text" class="blank-input" data-answer="vitamin D"> are both needed for strong bones.<br><br>
                            4. <input type="text" class="blank-input" data-answer="iron"> is needed to make haemoglobin in red blood cells.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> Name the 7 components of a balanced diet.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Carbohydrates, proteins, lipids (fats), vitamins, minerals, water, fibre</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> A person has soft, weak bones. What might they be lacking in their diet?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Calcium and/or Vitamin D (both are needed for strong bones)</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>A balanced diet provides all nutrients in the correct proportions for good health.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Nutrient</th><th>Source</th><th>Function</th><th>Deficiency Disease</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Vitamin A</td><td>Liver, carrots, eggs</td><td>Good vision, healthy skin</td><td>Night blindness</td></tr>
                            <tr><td>Vitamin C</td><td>Citrus fruits, peppers</td><td>Healthy connective tissue</td><td>Scurvy</td></tr>
                            <tr><td>Vitamin D</td><td>Sunlight, oily fish, eggs</td><td>Calcium absorption</td><td>Rickets</td></tr>
                            <tr><td>Calcium</td><td>Dairy, green vegetables</td><td>Strong bones and teeth</td><td>Rickets, osteoporosis</td></tr>
                            <tr><td>Iron</td><td>Red meat, spinach, beans</td><td>Haemoglobin production</td><td>Anaemia</td></tr>
                        </tbody>
                    </table>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Function of carbohydrates:</span>
                            <input type="text" class="quick-fire-input" data-answer="energy">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Function of protein:</span>
                            <input type="text" class="quick-fire-input" data-answer="growth">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Mineral for haemoglobin:</span>
                            <input type="text" class="quick-fire-input" data-answer="iron">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Disease from lack of Vitamin C:</span>
                            <input type="text" class="quick-fire-input" data-answer="scurvy">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- 3 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Explain why a person who does not eat any dairy products might develop weak bones.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>Dairy is a source of calcium (1)</li>
                                        <li>Calcium is needed for strong bones (1)</li>
                                        <li>Lack of calcium leads to weak bones / rickets / osteoporosis (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== EXTENDED PATHWAY ===== -->
                <div data-show-path="extended">
                    
                    <div class="key-point">
                        <strong>Energy requirements vary depending on:</strong><br>
                        ‚Ä¢ Age (teenagers need more for growth)<br>
                        ‚Ä¢ Gender (males typically need more)<br>
                        ‚Ä¢ Activity level (athletes need more)<br>
                        ‚Ä¢ Pregnancy (extra energy for baby's growth)<br>
                        ‚Ä¢ Climate (cold environments need more for warmth)
                    </div>

                    <!-- 4 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Explain why a pregnant woman needs more iron in her diet than a non-pregnant woman of the same age.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Iron is needed to make haemoglobin (1)</li>
                                        <li>Pregnant woman has increased blood volume (1)</li>
                                        <li>Needs to supply oxygen to developing fetus (1)</li>
                                        <li>Fetus needs iron for its own blood cells (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CHALLENGE PATHWAY ===== -->
                <div data-show-path="challenge">
                    
                    <!-- 6 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> A vegetarian athlete is planning their diet. Discuss the nutritional challenges they might face and how they could address them while maintaining peak performance.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>May lack complete proteins / need to combine plant proteins (1)</li>
                                        <li>Iron absorption lower from plant sources / may need supplements (1)</li>
                                        <li>Athletes need more protein for muscle repair (1)</li>
                                        <li>Can get protein from eggs, dairy, beans, lentils, tofu (1)</li>
                                        <li>Need high carbohydrate intake for energy during training (1)</li>
                                        <li>May need B12 supplements if vegan (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </section>

        <!-- ==================== TOPIC 5: DIGESTIVE SYSTEM ==================== -->
        <section class="topic-content" data-topic="digestive">
            
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon practice">ü´Å</div>
                    <h3>Structure of the Digestive System</h3>
                    <span class="spec-ref">2.27-2.28</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>What is the digestive system?</strong> It's a long tube (about 9 metres!) that runs from your mouth to your anus. Food travels through it and gets broken down so nutrients can be absorbed into your blood.</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Remember the Order: "My Old Stomach Sits Lazily Reading Comics Always"</div>
                        <p class="mnemonic">Mouth ‚Üí Oesophagus ‚Üí Stomach ‚Üí Small intestine ‚Üí Large intestine ‚Üí Rectum ‚Üí (Colon) ‚Üí Anus</p>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr><th>Organ</th><th>What Happens Here</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>üëÑ Mouth</td><td>Food is chewed (mechanical digestion) and mixed with saliva containing amylase</td></tr>
                            <tr><td>üîΩ Oesophagus</td><td>Food tube - pushes food to stomach by peristalsis</td></tr>
                            <tr><td>ü´É Stomach</td><td>Churns food, adds acid and pepsin (protein digestion begins)</td></tr>
                            <tr><td>‚û∞ Small intestine</td><td>Most digestion and absorption happens here</td></tr>
                            <tr><td>üîÑ Large intestine</td><td>Absorbs water from undigested food</td></tr>
                            <tr><td>üì¶ Rectum</td><td>Stores faeces</td></tr>
                            <tr><td>üöΩ Anus</td><td>Faeces leave the body (egestion)</td></tr>
                        </tbody>
                    </table>

                    <div class="definition-box">
                        <p class="term">Peristalsis</p>
                        <p class="definition">The squeezing action of muscles in the gut wall that pushes food along. Muscles contract behind the food and relax in front of it - like squeezing toothpaste from a tube!</p>
                    </div>

                    <div class="key-point">
                        <strong>üéØ Don't confuse these:</strong><br>
                        ‚Ä¢ <strong>Digestion</strong> = breaking down large food molecules into small ones<br>
                        ‚Ä¢ <strong>Absorption</strong> = small molecules passing through gut wall into blood<br>
                        ‚Ä¢ <strong>Egestion</strong> = removing undigested waste (faeces) from the body
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> Where does most absorption of nutrients happen?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Stomach</div>
                            <div class="quiz-option" data-correct="true">Small intestine</div>
                            <div class="quiz-option" data-correct="false">Large intestine</div>
                            <div class="quiz-option" data-correct="false">Mouth</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> What is the name of the muscular action that moves food through the gut?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Absorption</div>
                            <div class="quiz-option" data-correct="false">Digestion</div>
                            <div class="quiz-option" data-correct="true">Peristalsis</div>
                            <div class="quiz-option" data-correct="false">Egestion</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> What is absorbed in the large intestine?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glucose</div>
                            <div class="quiz-option" data-correct="false">Amino acids</div>
                            <div class="quiz-option" data-correct="true">Water</div>
                            <div class="quiz-option" data-correct="false">Fatty acids</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">The stomach produces acid to help digestion.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">The oesophagus is where most digestion occurs.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Peristalsis involves muscle contractions.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Egestion is the same as excretion.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences:</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">peristalsis</span>
                            <span class="word-bank-item">small intestine</span>
                            <span class="word-bank-item">stomach</span>
                            <span class="word-bank-item">water</span>
                            <span class="word-bank-item">oesophagus</span>
                        </div>
                        <p class="fill-blank-text">
                            1. Food travels from the mouth to the stomach through the <input type="text" class="blank-input" data-answer="oesophagus">.<br><br>
                            2. The <input type="text" class="blank-input" data-answer="stomach"> produces acid and churns food.<br><br>
                            3. Most absorption happens in the <input type="text" class="blank-input" data-answer="small intestine">.<br><br>
                            4. The large intestine absorbs <input type="text" class="blank-input" data-answer="water">.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> Put these in order from mouth to anus: large intestine, stomach, oesophagus, small intestine</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Oesophagus ‚Üí Stomach ‚Üí Small intestine ‚Üí Large intestine</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> Describe how peristalsis moves food through the gut.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Muscles in the gut wall contract behind the food and relax in front of it. This pushes the food forwards in a wave-like motion.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <p>The alimentary canal is a continuous tube from mouth to anus. Each region is adapted for its specific function.</p>

                    <table class="data-table">
                        <thead>
                            <tr><th>Region</th><th>Function</th><th>Key Features</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Mouth</td><td>Mechanical + chemical digestion</td><td>Teeth, tongue, salivary amylase</td></tr>
                            <tr><td>Oesophagus</td><td>Transport</td><td>Muscular wall for peristalsis</td></tr>
                            <tr><td>Stomach</td><td>Protein digestion begins</td><td>HCl, pepsin, churning</td></tr>
                            <tr><td>Small intestine</td><td>Complete digestion + absorption</td><td>Villi, enzymes, bile</td></tr>
                            <tr><td>Large intestine</td><td>Water absorption</td><td>No villi</td></tr>
                            <tr><td>Rectum/Anus</td><td>Storage and egestion</td><td>Sphincter muscles</td></tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <div class="title">‚ö†Ô∏è Exam Tip</div>
                        <p>Peristalsis involves TWO types of muscle:<br>
                        ‚Ä¢ <strong>Circular muscles</strong> contract behind the food (squeezes it)<br>
                        ‚Ä¢ <strong>Longitudinal muscles</strong> contract ahead (shortens the tube)</p>
                    </div>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Where is acid produced?</span>
                            <input type="text" class="quick-fire-input" data-answer="stomach">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Where are villi found?</span>
                            <input type="text" class="quick-fire-input" data-answer="small intestine">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">What moves food by peristalsis?</span>
                            <input type="text" class="quick-fire-input" data-answer="muscles">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">What is removed from the body at the anus?</span>
                            <input type="text" class="quick-fire-input" data-answer="faeces">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                    <!-- 3 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Describe how peristalsis moves food through the alimentary canal.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>Circular muscles contract behind the food (1)</li>
                                        <li>Longitudinal muscles contract in front of the food (1)</li>
                                        <li>This creates a wave of contraction that pushes food along (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== EXTENDED PATHWAY ===== -->
                <div data-show-path="extended">
                    
                    <div class="key-point">
                        <strong>Stomach adaptations:</strong><br>
                        ‚Ä¢ Thick muscular wall for churning<br>
                        ‚Ä¢ Gastric glands produce HCl (kills bacteria, provides optimum pH for pepsin)<br>
                        ‚Ä¢ Gastric glands produce pepsin (protease)<br>
                        ‚Ä¢ Mucus lining protects stomach wall from acid and enzymes
                    </div>

                    <!-- 4 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Explain how the stomach is adapted for its functions in digestion.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Muscular wall for churning / mechanical digestion (1)</li>
                                        <li>Produces hydrochloric acid / kills bacteria / optimum pH for pepsin (1)</li>
                                        <li>Produces pepsin / protease for protein digestion (1)</li>
                                        <li>Mucus protects stomach wall from acid / self-digestion (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CHALLENGE PATHWAY ===== -->
                <div data-show-path="challenge">
                    
                    <!-- 6 MARK QUESTION -->
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> Explain how the stomach is protected from digesting itself, and discuss what might happen if these protective mechanisms fail.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Mucus forms a protective barrier on stomach lining (1)</li>
                                        <li>Mucus is alkaline / neutralises acid at the surface (1)</li>
                                        <li>Epithelial cells are constantly replaced (1)</li>
                                        <li>Pepsin is secreted as inactive pepsinogen (1)</li>
                                        <li>If protection fails: acid damages stomach wall / ulcer forms (1)</li>
                                        <li>Ulcers can cause bleeding / pain / perforation (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </section>

        <!-- ==================== TOPIC 6: DIGESTION & ABSORPTION ==================== -->
        <section class="topic-content" data-topic="absorption">
            
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon challenge">üîÑ</div>
                    <h3>Digestive Enzymes</h3>
                    <span class="spec-ref">2.29</span>
                </div>

                <!-- ===== FOUNDATION PATHWAY ===== -->
                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>Why do we need to digest food?</strong> Large food molecules are too big to pass through the gut wall into the blood. Enzymes break them into smaller molecules that can be absorbed!</p>
                    </div>

                    <div class="mnemonic-box">
                        <div class="title">üß† Enzyme Names End in "-ase"</div>
                        <p class="mnemonic">Amylase breaks down starch (amyl- relates to starch)</p>
                        <p class="mnemonic">Protease breaks down protein</p>
                        <p class="mnemonic">Lipase breaks down lipids (fats)</p>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr><th>Enzyme</th><th>Breaks Down</th><th>Products</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Amylase</td><td>Starch</td><td>Maltose ‚Üí Glucose</td></tr>
                            <tr><td>Protease (pepsin, trypsin)</td><td>Protein</td><td>Amino acids</td></tr>
                            <tr><td>Lipase</td><td>Lipids (fats)</td><td>Fatty acids + glycerol</td></tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>üéØ Where are these enzymes made?</strong><br>
                        ‚Ä¢ <strong>Amylase:</strong> Salivary glands (mouth) and pancreas<br>
                        ‚Ä¢ <strong>Protease:</strong> Stomach (pepsin) and pancreas (trypsin)<br>
                        ‚Ä¢ <strong>Lipase:</strong> Pancreas
                    </div>

                    <!-- QUIZ 1 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 1:</strong> What enzyme breaks down starch?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">Amylase</div>
                            <div class="quiz-option" data-correct="false">Protease</div>
                            <div class="quiz-option" data-correct="false">Lipase</div>
                            <div class="quiz-option" data-correct="false">Maltase</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 2 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 2:</strong> What are the products of lipid digestion?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glucose</div>
                            <div class="quiz-option" data-correct="false">Amino acids</div>
                            <div class="quiz-option" data-correct="true">Fatty acids and glycerol</div>
                            <div class="quiz-option" data-correct="false">Maltose</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- QUIZ 3 -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì <strong>Quick Check 3:</strong> What are proteins broken down into?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Glucose</div>
                            <div class="quiz-option" data-correct="true">Amino acids</div>
                            <div class="quiz-option" data-correct="false">Fatty acids</div>
                            <div class="quiz-option" data-correct="false">Simple sugars</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Amylase is found in saliva.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">Lipase breaks down proteins.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Pepsin is a type of protease.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">The pancreas produces digestive enzymes.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- MATCHING -->
                    <div class="matching-exercise">
                        <h4>üîó Match each enzyme to what it digests:</h4>
                        <div class="matching-pairs">
                            <div class="match-item left">Amylase</div>
                            <select class="match-select" data-correct="starch">
                                <option value="">Select...</option>
                                <option value="starch">Starch</option>
                                <option value="protein">Protein</option>
                                <option value="lipid">Lipid</option>
                            </select>
                            <div class="match-item">‚Üí Glucose</div>
                            
                            <div class="match-item left">Protease</div>
                            <select class="match-select" data-correct="protein">
                                <option value="">Select...</option>
                                <option value="starch">Starch</option>
                                <option value="protein">Protein</option>
                                <option value="lipid">Lipid</option>
                            </select>
                            <div class="match-item">‚Üí Amino acids</div>
                            
                            <div class="match-item left">Lipase</div>
                            <select class="match-select" data-correct="lipid">
                                <option value="">Select...</option>
                                <option value="starch">Starch</option>
                                <option value="protein">Protein</option>
                                <option value="lipid">Lipid</option>
                            </select>
                            <div class="match-item">‚Üí Fatty acids</div>
                        </div>
                        <button class="btn btn-primary" onclick="checkMatching(this)" style="margin-top: 1rem;">Check Matches</button>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q1:</strong> Name the three main types of digestive enzyme and what each one digests.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Amylase digests starch. Protease digests protein. Lipase digests lipids (fats).</p>
                            </div>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q2:</strong> Where is amylase produced in the body?</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>Salivary glands (in the mouth) and the pancreas.</p>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- ===== CORE PATHWAY ===== -->
                <div data-show-path="core">
                    
                    <table class="data-table">
                        <thead>
                            <tr><th>Enzyme</th><th>Substrate</th><th>Products</th><th>Where Produced</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Amylase</td><td>Starch</td><td>Maltose</td><td>Salivary glands, pancreas</td></tr>
                            <tr><td>Maltase</td><td>Maltose</td><td>Glucose</td><td>Small intestine</td></tr>
                            <tr><td>Pepsin</td><td>Protein</td><td>Polypeptides</td><td>Stomach</td></tr>
                            <tr><td>Trypsin</td><td>Protein</td><td>Amino acids</td><td>Pancreas</td></tr>
                            <tr><td>Lipase</td><td>Lipids</td><td>Fatty acids + glycerol</td><td>Pancreas</td></tr>
                        </tbody>
                    </table>

                    <div class="key-point">
                        <strong>Two-step starch digestion:</strong><br>
                        1. Amylase breaks starch ‚Üí maltose (disaccharide)<br>
                        2. Maltase breaks maltose ‚Üí glucose (monosaccharide)
                    </div>

                    <!-- QUICK FIRE -->
                    <div class="quick-fire">
                        <h4>‚ö° Quick Fire Retrieval</h4>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Enzyme in stomach:</span>
                            <input type="text" class="quick-fire-input" data-answer="pepsin">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Products of lipase action:</span>
                            <input type="text" class="quick-fire-input" data-answer="fatty acids">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Final product of starch digestion:</span>
                            <input type="text" class="quick-fire-input" data-answer="glucose">
                        </div>
                        <div class="quick-fire-item">
                            <span class="quick-fire-q">Organ that produces most enzymes:</span>
                            <input type="text" class="quick-fire-input" data-answer="pancreas">
                        </div>
                        <button class="btn btn-primary" onclick="checkQuickFire(this)" style="margin-top: 0.75rem;">Check Answers</button>
                    </div>

                </div>

                <!-- ===== EXTENDED & CHALLENGE abbreviated ===== -->
                <div data-show-path="extended">
                    <div class="key-point">
                        <strong>Optimum pH for digestive enzymes:</strong><br>
                        ‚Ä¢ Pepsin: pH 2 (acidic stomach)<br>
                        ‚Ä¢ Salivary amylase: pH 7 (neutral mouth)<br>
                        ‚Ä¢ Pancreatic enzymes: pH 8-9 (alkaline duodenum)
                    </div>

                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Explain why salivary amylase stops working when food reaches the stomach.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Salivary amylase has optimum pH 7 / neutral (1)</li>
                                        <li>Stomach has pH 2 / acidic (1)</li>
                                        <li>Extreme pH causes denaturation (1)</li>
                                        <li>Active site changes shape / substrate cannot fit (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-show-path="challenge">
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> A patient has had their gall bladder removed. Explain how this might affect their ability to digest and absorb lipids, and suggest dietary advice for this patient.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Gall bladder stores and concentrates bile (1)</li>
                                        <li>Without gall bladder, bile drips continuously / not released in response to fat (1)</li>
                                        <li>Less bile available for large fatty meals (1)</li>
                                        <li>Fat not fully emulsified / smaller surface area for lipase (1)</li>
                                        <li>Advice: eat smaller, more frequent meals (1)</li>
                                        <li>Reduce fat intake / avoid very fatty foods (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Bile Section -->
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon visual">üíö</div>
                    <h3>The Role of Bile</h3>
                    <span class="spec-ref">2.30-2.31</span>
                </div>

                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>Important:</strong> Bile is NOT an enzyme! It doesn't digest food, but it helps digestion happen. Think of bile like washing-up liquid for fats!</p>
                    </div>

                    <div class="key-point">
                        <strong>üéØ Key facts about bile:</strong><br>
                        üìç Made in the <strong>LIVER</strong><br>
                        üì¶ Stored in the <strong>GALL BLADDER</strong><br>
                        üéØ Released into the <strong>SMALL INTESTINE</strong> (duodenum)
                    </div>

                    <div class="two-column">
                        <div class="definition-box">
                            <p class="term">Function 1: Neutralises acid</p>
                            <p class="definition">Bile is alkaline. It neutralises stomach acid so enzymes in the small intestine can work (they need pH 8-9).</p>
                        </div>
                        <div class="definition-box">
                            <p class="term">Function 2: Emulsifies fats</p>
                            <p class="definition">Breaks large fat droplets into tiny droplets. This gives a bigger surface area for lipase to work on.</p>
                        </div>
                    </div>

                    <!-- QUIZ -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Where is bile produced?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Gall bladder</div>
                            <div class="quiz-option" data-correct="true">Liver</div>
                            <div class="quiz-option" data-correct="false">Pancreas</div>
                            <div class="quiz-option" data-correct="false">Stomach</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì What does "emulsify" mean?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">Digest completely</div>
                            <div class="quiz-option" data-correct="true">Break into smaller droplets</div>
                            <div class="quiz-option" data-correct="false">Neutralise acid</div>
                            <div class="quiz-option" data-correct="false">Absorb into blood</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- FILL IN THE BLANK -->
                    <div class="fill-blank">
                        <h4>üìù Complete the sentences:</h4>
                        <div class="word-bank">
                            <span class="word-bank-item">liver</span>
                            <span class="word-bank-item">gall bladder</span>
                            <span class="word-bank-item">emulsifies</span>
                            <span class="word-bank-item">neutralises</span>
                            <span class="word-bank-item">lipase</span>
                        </div>
                        <p class="fill-blank-text">
                            1. Bile is made in the <input type="text" class="blank-input" data-answer="liver"> and stored in the <input type="text" class="blank-input" data-answer="gall bladder">.<br><br>
                            2. Bile <input type="text" class="blank-input" data-answer="neutralises"> stomach acid.<br><br>
                            3. Bile <input type="text" class="blank-input" data-answer="emulsifies"> fats to increase surface area for <input type="text" class="blank-input" data-answer="lipase">.
                        </p>
                        <button class="btn btn-primary" onclick="checkBlanks(this)">Check My Answers</button>
                    </div>

                </div>

                <div data-show-path="core">
                    <div class="exam-tip">
                        <div class="title">‚ö†Ô∏è Exam Tip</div>
                        <p>Never say bile "digests" fat - it doesn't! Bile <strong>emulsifies</strong> fat to increase surface area for <strong>lipase</strong> (the enzyme that actually digests fat).</p>
                    </div>

                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (3 marks):</strong> Explain how bile helps in the digestion of lipids.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (3 marks)</h5>
                                    <ul>
                                        <li>Bile emulsifies lipids / breaks into small droplets (1)</li>
                                        <li>Increases surface area (1)</li>
                                        <li>For lipase to work on / faster digestion (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-show-path="extended">
                    <div class="key-point">
                        <strong>Chemistry of emulsification:</strong><br>
                        ‚Ä¢ Bile salts are amphipathic (have hydrophobic and hydrophilic regions)<br>
                        ‚Ä¢ Hydrophobic ends embed in fat droplets<br>
                        ‚Ä¢ Hydrophilic ends face outward into aqueous solution<br>
                        ‚Ä¢ This prevents droplets from rejoining (coalescing)
                    </div>
                </div>

                <div data-show-path="challenge">
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> Explain why bile is described as amphipathic and how this property is essential for its function in lipid digestion.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Amphipathic means having both hydrophobic and hydrophilic regions (1)</li>
                                        <li>Hydrophobic region interacts with lipid droplets (1)</li>
                                        <li>Hydrophilic region interacts with aqueous environment (1)</li>
                                        <li>Bile salts coat lipid droplets (1)</li>
                                        <li>Prevents droplets from coalescing / keeps them small (1)</li>
                                        <li>Maximises surface area for lipase action (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Villus Adaptations -->
            <div class="content-card">
                <div class="card-header">
                    <div class="card-icon practice">üî¨</div>
                    <h3>Adaptations for Absorption</h3>
                    <span class="spec-ref">2.32</span>
                </div>

                <div data-show-path="foundation" class="visible">
                    
                    <div class="scaffold-tip">
                        <span class="icon">üí°</span>
                        <p><strong>Absorption</strong> is when digested food passes from your gut into your blood. The small intestine has special structures called VILLI that are brilliant at this job!</p>
                    </div>

                    <div class="definition-box">
                        <p class="term">Villus (plural: villi)</p>
                        <p class="definition">Tiny finger-like projections that line the small intestine. They increase the surface area for absorbing nutrients.</p>
                    </div>

                    <div class="key-point">
                        <strong>üéØ 4 Adaptations of villi for absorption:</strong><br>
                        1Ô∏è‚É£ <strong>Large surface area</strong> - finger-like shape + microvilli<br>
                        2Ô∏è‚É£ <strong>Thin walls</strong> - only one cell thick (short diffusion distance)<br>
                        3Ô∏è‚É£ <strong>Good blood supply</strong> - maintains concentration gradient<br>
                        4Ô∏è‚É£ <strong>Lacteal</strong> - absorbs fatty acids and glycerol
                    </div>

                    <!-- QUIZZES -->
                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì What do villi increase?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="true">Surface area for absorption</div>
                            <div class="quiz-option" data-correct="false">Speed of peristalsis</div>
                            <div class="quiz-option" data-correct="false">Amount of enzymes</div>
                            <div class="quiz-option" data-correct="false">Thickness of gut wall</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <div class="quiz-container">
                        <p class="quiz-question">‚ùì Why do villi have a good blood supply?</p>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">To keep them warm</div>
                            <div class="quiz-option" data-correct="true">To maintain a concentration gradient</div>
                            <div class="quiz-option" data-correct="false">To provide oxygen for digestion</div>
                            <div class="quiz-option" data-correct="false">To make enzymes</div>
                        </div>
                        <div class="quiz-feedback"></div>
                    </div>

                    <!-- TRUE/FALSE -->
                    <div class="tf-quiz">
                        <h4>‚úÖ True or False?</h4>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Villi are found in the small intestine.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Villi have thin walls to reduce diffusion distance.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="false">
                            <span class="tf-statement">The lacteal absorbs glucose.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                        <div class="tf-item" data-correct="true">
                            <span class="tf-statement">Microvilli further increase surface area.</span>
                            <div class="tf-buttons">
                                <button class="tf-btn" data-value="true">True</button>
                                <button class="tf-btn" data-value="false">False</button>
                            </div>
                            <span class="tf-feedback"></span>
                        </div>
                    </div>

                    <!-- SECTION CHECKPOINT -->
                    <div class="section-checkpoint">
                        <div class="checkpoint-header">
                            <span>üèÅ</span>
                            <h4>Foundation Checkpoint</h4>
                        </div>
                        <div class="recall-card">
                            <div class="recall-question">
                                <p><strong>Q:</strong> Name 4 ways villi are adapted for absorption.</p>
                            </div>
                            <textarea class="recall-input" placeholder="Write your answer here..."></textarea>
                            <button class="btn btn-secondary" onclick="toggleRecall(this)">Check Answer</button>
                            <div class="recall-answer">
                                <h5>‚úì Model Answer:</h5>
                                <p>1. Large surface area (finger-like shape + microvilli)<br>
                                2. Thin walls (one cell thick)<br>
                                3. Good blood supply (maintains concentration gradient)<br>
                                4. Lacteal (absorbs fats)</p>
                            </div>
                        </div>
                    </div>

                </div>

                <div data-show-path="core">
                    <table class="data-table">
                        <thead>
                            <tr><th>Adaptation</th><th>How It Helps Absorption</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Villi (finger-like)</td><td>Increase surface area</td></tr>
                            <tr><td>Microvilli on cells</td><td>Further increase surface area</td></tr>
                            <tr><td>Single cell epithelium</td><td>Short diffusion distance</td></tr>
                            <tr><td>Dense capillary network</td><td>Maintains concentration gradient</td></tr>
                            <tr><td>Lacteal</td><td>Absorbs lipids into lymph</td></tr>
                        </tbody>
                    </table>

                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Exam Question (4 marks):</strong> Explain how the structure of a villus is adapted for efficient absorption of nutrients.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (4 marks)</h5>
                                    <ul>
                                        <li>Finger-like shape / microvilli increase surface area (1)</li>
                                        <li>Thin wall / one cell thick for short diffusion distance (1)</li>
                                        <li>Good blood supply maintains concentration gradient (1)</li>
                                        <li>Blood carries absorbed nutrients away (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-show-path="extended">
                    <div class="key-point">
                        <strong>Active transport in villi:</strong><br>
                        ‚Ä¢ Glucose and amino acids can be absorbed by active transport<br>
                        ‚Ä¢ Allows absorption against concentration gradient<br>
                        ‚Ä¢ Requires ATP from mitochondria (villi have many mitochondria)<br>
                        ‚Ä¢ Ensures complete absorption of nutrients
                    </div>
                </div>

                <div data-show-path="challenge">
                    <div class="extended-response">
                        <p class="quiz-question">üìù <strong>Challenge Question (6 marks):</strong> A patient with coeliac disease has damaged villi. Explain how this would affect their nutrition and why they might become deficient in multiple nutrients.</p>
                        <textarea class="response-textarea" placeholder="Write your answer here..."></textarea>
                        <div class="reveal-answer">
                            <button class="reveal-btn" onclick="toggleReveal(this)">Show Mark Scheme</button>
                            <div class="reveal-content">
                                <div class="mark-scheme">
                                    <h5>Mark Scheme (6 marks)</h5>
                                    <ul>
                                        <li>Damaged villi have reduced surface area (1)</li>
                                        <li>Less efficient absorption of all nutrients (1)</li>
                                        <li>Glucose/amino acid absorption reduced (1)</li>
                                        <li>Fatty acid absorption via lacteal reduced (1)</li>
                                        <li>Vitamin and mineral absorption also affected (1)</li>
                                        <li>Could lead to anaemia/osteoporosis/weight loss/fatigue (1)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </section>

        <!-- Specification Checklist -->
        <div class="spec-checklist">
            <h3>üìã Specification Checklist</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.85rem;">Tick off each point as you feel confident:</p>
            
            <div class="checklist-grid">
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.7</span>
                    <span class="spec-text">Chemical elements in biological molecules</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.8</span>
                    <span class="spec-text">Large molecules from small units</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.9</span>
                    <span class="spec-text">Food tests practical</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.10</span>
                    <span class="spec-text">Enzymes as catalysts</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.11</span>
                    <span class="spec-text">Temperature effects on enzymes</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.12</span>
                    <span class="spec-text">Temperature investigation practical</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.13</span>
                    <span class="spec-text">pH effects on enzymes</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.24</span>
                    <span class="spec-text">Balanced diet components</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.25</span>
                    <span class="spec-text">Sources and functions of nutrients</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.26</span>
                    <span class="spec-text">Energy requirement variations</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.27</span>
                    <span class="spec-text">Alimentary canal structure/function</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.28</span>
                    <span class="spec-text">Peristalsis mechanism</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.29</span>
                    <span class="spec-text">Digestive enzymes roles</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.30</span>
                    <span class="spec-text">Bile production/storage</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.31</span>
                    <span class="spec-text">Bile functions</span>
                </div>
                <div class="checklist-item">
                    <div class="checklist-checkbox" onclick="toggleCheck(this)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <span class="spec-number">2.32</span>
                    <span class="spec-text">Small intestine adaptations</span>
                </div>
            </div>
        </div>

    </main>

    <script>
        // ==================== PATH SWITCHING ====================
        const pathBtns = document.querySelectorAll('.path-btn');
        const pathDescriptions = document.querySelectorAll('.path-description');
        
        pathBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const path = btn.dataset.path;
                
                pathBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                pathDescriptions.forEach(desc => {
                    desc.classList.remove('active');
                    if (desc.dataset.path === path) desc.classList.add('active');
                });
                
                document.querySelectorAll('[data-show-path]').forEach(el => {
                    el.classList.remove('visible');
                    if (el.dataset.showPath === path) el.classList.add('visible');
                });
            });
        });

        // ==================== TOPIC NAVIGATION ====================
        const topicBtns = document.querySelectorAll('.topic-btn');
        const topicContents = document.querySelectorAll('.topic-content');
        
        topicBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const topic = btn.dataset.topic;
                
                topicBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                topicContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.dataset.topic === topic) content.classList.add('active');
                });
            });
        });

        // ==================== QUIZ FUNCTIONALITY ====================
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', function() {
                const container = this.closest('.quiz-container');
                if (container.classList.contains('answered')) return;
                container.classList.add('answered');
                
                const options = container.querySelectorAll('.quiz-option');
                const feedback = container.querySelector('.quiz-feedback');
                const isCorrect = this.dataset.correct === 'true';
                
                options.forEach(opt => {
                    if (opt.dataset.correct === 'true') opt.classList.add('correct');
                });
                
                if (!isCorrect) this.classList.add('incorrect');
                
                feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
                feedback.textContent = isCorrect ? '‚úì Correct! Well done.' : '‚úó Not quite. The correct answer is highlighted in green.';
                
                updateProgress();
            });
        });

        // ==================== TRUE/FALSE FUNCTIONALITY ====================
        document.querySelectorAll('.tf-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const item = this.closest('.tf-item');
                if (item.classList.contains('answered')) return;
                item.classList.add('answered');
                
                const isCorrect = (this.dataset.value === 'true') === (item.dataset.correct === 'true');
                const feedback = item.querySelector('.tf-feedback');
                
                this.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
                feedback.classList.add('show');
                feedback.textContent = isCorrect ? '‚úì' : '‚úó';
                feedback.style.color = isCorrect ? 'var(--accent-foundation)' : 'var(--error)';
                
                updateProgress();
            });
        });

        // ==================== FILL IN THE BLANK ====================
        function checkBlanks(button) {
            const container = button.closest('.fill-blank');
            const inputs = container.querySelectorAll('.blank-input');
            
            inputs.forEach(input => {
                const userAnswer = input.value.trim().toLowerCase();
                const correctAnswer = input.dataset.answer.toLowerCase();
                
                input.classList.remove('correct', 'incorrect');
                if (userAnswer === correctAnswer) {
                    input.classList.add('correct');
                } else {
                    input.classList.add('incorrect');
                }
            });
            
            updateProgress();
        }

        // ==================== MATCHING EXERCISE ====================
        function checkMatching(button) {
            const container = button.closest('.matching-exercise');
            const selects = container.querySelectorAll('.match-select');
            
            selects.forEach(select => {
                select.classList.remove('correct', 'incorrect');
                if (select.value === select.dataset.correct) {
                    select.classList.add('correct');
                } else if (select.value !== '') {
                    select.classList.add('incorrect');
                }
            });
            
            updateProgress();
        }

        // ==================== QUICK FIRE ====================
        function checkQuickFire(button) {
            const container = button.closest('.quick-fire');
            const inputs = container.querySelectorAll('.quick-fire-input');
            
            inputs.forEach(input => {
                const userAnswer = input.value.trim().toLowerCase();
                const correctAnswer = input.dataset.answer.toLowerCase();
                
                input.classList.remove('correct', 'incorrect');
                // Allow partial matches for compound answers
                if (userAnswer === correctAnswer || correctAnswer.includes(userAnswer) && userAnswer.length > 2) {
                    input.classList.add('correct');
                } else {
                    input.classList.add('incorrect');
                }
            });
            
            updateProgress();
        }

        // ==================== REVEAL ANSWER ====================
        function toggleReveal(button) {
            const content = button.nextElementSibling;
            content.classList.toggle('show');
            button.textContent = content.classList.contains('show') ? 'Hide Mark Scheme' : 'Show Mark Scheme';
        }

        // ==================== RECALL CARD ====================
        function toggleRecall(button) {
            const answer = button.nextElementSibling;
            answer.classList.toggle('show');
            button.textContent = answer.classList.contains('show') ? 'Hide Answer' : 'Check Answer';
        }

        // ==================== CHECKLIST ====================
        function toggleCheck(checkbox) {
            checkbox.classList.toggle('checked');
            updateProgress();
        }

        // ==================== PROGRESS TRACKING ====================
        function updateProgress() {
            const totalChecks = document.querySelectorAll('.checklist-checkbox').length;
            const completedChecks = document.querySelectorAll('.checklist-checkbox.checked').length;
            const percentage = Math.round((completedChecks / totalChecks) * 100);
            
            document.querySelector('.progress-fill').style.width = percentage + '%';
            document.querySelector('.progress-text').textContent = percentage + '%';
        }

        // Initialize foundation path
        document.querySelectorAll('[data-show-path="foundation"]').forEach(el => el.classList.add('visible'));
    </script>
</body>
</html>
